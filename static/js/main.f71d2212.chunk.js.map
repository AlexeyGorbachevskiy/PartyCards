{"version":3,"sources":["main/ui/routes/cards/Cards.module.scss","main/ui/routes/settings/newPassword/NewPassword.module.scss","main/ui/routes/settings/passwordRestore/PasswordRestore.module.scss","features/f0-test/Feature0.module.scss","main/ui/routes/home/Home.module.scss","main/ui/common/checkbox/Checkbox.module.scss","main/ui/header/header.module.scss","main/ui/common/input/Input.module.scss","main/ui/common/button/Button.module.scss","main/ui/routes/settings/Settings.module.scss","main/ui/routes/features/Features.module.scss","main/dal/API.ts","main/bll/state/appReducer.ts","main/bll/state/authReducer.ts","main/bll/state/registerReducer.ts","main/bll/state/newPasswordReducer.ts","main/bll/state/loginReducer.ts","main/ui/header/header.tsx","main/ui/routes/home/Home.tsx","main/utilities/hoc/withAuthRedirect.tsx","main/bll/state/profileReducer.ts","main/ui/common/preloader/Preloader.tsx","main/ui/routes/profile/Profile.tsx","main/ui/common/input/Input.tsx","main/ui/common/checkbox/Checkbox.tsx","main/ui/common/button/Button.tsx","main/ui/routes/login/Login.tsx","main/ui/routes/register/Register.tsx","main/ui/routes/settings/Settings.tsx","main/ui/routes/settings/newPassword/NewPassword.tsx","main/bll/state/passwordRestoreReducer.ts","main/ui/routes/settings/passwordRestore/PasswordRestore.tsx","main/ui/routes/features/Features.tsx","features/f0-test/Feature0.tsx","main/bll/state/packsReducer.ts","main/bll/state/cardsReducer.ts","main/ui/routes/packs/Packs.tsx","main/ui/routes/cards/Cards.tsx","App.tsx","serviceWorker.ts","main/bll/state/store.ts","index.tsx","main/ui/common/preloader/Preloader.module.css","main/ui/routes/profile/Profile.module.scss","main/ui/routes/packs/Packs.module.scss","main/ui/routes/login/Login.module.scss","main/ui/routes/register/Register.module.scss"],"names":["module","exports","axiosInstance","axios","create","baseURL","withCredentials","loginAPI","email","password","remember","post","delete","authAPI","registerAPI","values","profileAPI","name","avatar","put","settingsAPI","from","message","token","resetPasswordToken","packsAPI","min","max","page","pageSize","get","packName","privatePack","cardsPack","private","packId","_id","myAccountId","sortField","sortOrder","sortOrderNumber","sortOrderResult","cardsAPI","chosenPackCardsCount","pageCount","question","answer","card","cardsPack_id","cardId","currentPage","initialState","isCurrentPageProfile","initialized","INITIALIZED_SUCCESS","SET_PROFILE_AS_CURRENT_PAGE","initializedSuccessAC","type","setIsCurrentPageProfileAC","isCurrentPge","appReducer","state","action","isAuth","SET_AUTH","setAuthDataAC","getAuthInfoThunkCreator","dispatch","then","res","console","log","data","setLoginDataAC","catch","e","registerError","status","SET_ERROR","SET_STATUS","setRegisterErrorAC","setRegisterStatusAC","mewPasswordMessage","newPasswordError","SET_NEW_PASSWORD_MESSAGE","SET_NEW_PASSWORD_ERROR","setNewPasswordSuccessMessageAC","setNewPasswordErrorAC","publicCardPacksCount","created","updated","isAdmin","verified","rememberMe","error","isLoading","SET_LOGIN_DATA","SET_LOADING","loginData","setLoginErrorAC","setLoadingAC","Header","useSelector","app","useState","isToggleCollapsed","setToggleCollapsed","auth","useDispatch","logout","response","chosenPackId","cards","chosenPackData","chosenPackName","className","style","header","backgroundColor","container","logo_wrapper","logo_link","to","navbar","activeClassName","active_link","link","onClick","btn_toggler","btn_collapse","vertical_navbar","particlesOptions","Home","home","particles","params","title_wrapper","withAuthRedirect","Component","props","SAVE_PROFILE_INFO","Preloader","obj","preloader","src","process","alt","compose","login","loginName","loginAvatar","loginEmail","setName","setAvatar","isChangeBtnClicked","setIsChangeBtnClicked","useEffect","display","justifyContent","alignItems","profile","profile_info","profile_info_header","profile_info_header_content","position","onChange","currentTarget","value","changeInfoThunkCreator","profile_info_save_btn","profile_info_change_btn","extra_info","profile_settings","Input","propsI","onEnter","onKeyPress","charCode","input","Checkbox","label","checkbox","labelText","Button","children","Login","setEmail","setPassword","setRemember","stateError","errorStyle","setErrorStyle","borderColor","login_form","form","placeholder","checked","trim","loginThunkCreator","width","zIndex","Register","register","registerStatus","errorStyle1","setErrorStyle1","errorStyle2","setErrorStyle2","formik","useFormik","validate","initialValues","onSubmit","success","registerThunkCreator","resetForm","register_form","id","handleChange","errors","color","handleSubmit","Settings","NewPassword","newPassword","successMessage","useParams","new_password","new_password_form","info","setNewPasswordThunkCreator","passwordRestoreError","passwordRestoreSuccessMessage","SET_SUCCESS_MESSAGE","setSettingsErrorAC","setSettingsSuccessMessageAC","PasswordRestore","passwordRestore","password_restore","password_restore_form","restorePasswordThunkCreator","setTimeout","features","checkboxValue","setCheckboxValue","inputValue","setInputValue","feature0","common","checkbox_wrapper","input_wrapper","btn_wrapper","currentMinCardsCount","currentMaxCardsCount","preflightTotalCount","packsData","cardPacks","cardPacksTotalCount","maxCardsCount","minCardsCount","tokenDeathTime","packsError","SET_PACKS_DATA","SET_MIN_MAX_CARDS_COUNT","setMinMaxCardsCountsAC","setPacksErrorAC","setPacksDataAC","getPacksThunkCreator","updatePackThunkCreator","cardsData","cardsTotalCount","maxGrade","minGrade","cardsCount","cardsError","SET_CARDS_DATA","SET_CHOSEN_PACK_DATA","RESET_CARDS_STATE","setCardsErrorAC","setCardsDataAC","getCardsThunkCreator","setChosenPackDataAC","updateCardThunkCreator","sortColumn","EditableCell","editing","dataIndex","title","record","inputType","index","restProps","editableInputValue","setEditableInputValue","inputNode","target","Item","margin","rules","required","packs","Number","mainError","Form","useForm","editingKey","setEditingKey","isEditing","key","columns","align","editable","sorter","a","b","render","_","size","savePack","marginRight","onConfirm","cancel","editPack","deletePack","text","transitionToCards","dataSource","map","el","userName","user_name","Date","toLocaleString","deletePackThunkCreator","setFieldsValue","oldName","newName","stateVisible","setStateVisible","modalInputValue","setModalInputValue","modalCheckboxValue","setModalCheckboxChange","isModalSearchInputError","setIsModalSearchInputError","showModal","searchInputValue","setSearchInputValue","searchCheckboxValue","setSearchCheckboxValue","mergedColumns","col","onCell","maskClosable","destroyOnClose","centered","visible","onOk","postNewPackThunkCreator","onCancel","marginTop","textAlign","pack_settings","add_btn","marginLeft","twice_slider","marks","0","26","range","step","defaultValue","onAfterChange","search_wrapper","search_checkbox","Search","search","onSearch","myId","searchForPackName","enterButton","loading","component","table","pagination","filters","extra","column","sortPacks","order","components","body","cell","bordered","rowClassName","editableRow","scroll","x","y","total","defaultPageSize","showSizeChanger","pageSizeOptions","description","showIcon","closable","onClose","setSortColumn","setSortOrder","grade","shots","saveCard","cancelEditing","editCard","deleteCard","oldQuestionName","oldAnswerName","newQuestionName","newAnswerName","deleteCardThunkCreator","modalStateVisible","setModalStateVisible","modalQuestionInputValue","setModalQuestionInputValue","modalAnswerInputValue","setModalAnswerInputValue","postCardThunkCreator","searchForCardQuestion","current","App","userId","getState","exact","path","Boolean","window","location","hostname","match","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f71d2212.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"packs\":\"Cards_packs__2W8gr\",\"pack_settings\":\"Cards_pack_settings__29RpY\",\"add_btn\":\"Cards_add_btn__2Dlx5\",\"twice_slider\":\"Cards_twice_slider__39tTp\",\"search_wrapper\":\"Cards_search_wrapper__gYsV9\",\"search\":\"Cards_search__2geYs\",\"table\":\"Cards_table__3jkFi\",\"editableRow\":\"Cards_editableRow__2lGSv\",\"ant-form-item-explain\":\"Cards_ant-form-item-explain__2Jbp2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"new_password\":\"NewPassword_new_password__2BPgX\",\"new_password_form\":\"NewPassword_new_password_form__1H4nf\",\"form\":\"NewPassword_form__2vPYl\",\"input\":\"NewPassword_input__1V696\",\"password\":\"NewPassword_password__18W2E\",\"error\":\"NewPassword_error__2FJCV\",\"successMessage\":\"NewPassword_successMessage__1RvbY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"password_restore\":\"PasswordRestore_password_restore__3d5cq\",\"password_restore_form\":\"PasswordRestore_password_restore_form__3cL8m\",\"form\":\"PasswordRestore_form__PWpVz\",\"input\":\"PasswordRestore_input__1GrcZ\",\"email\":\"PasswordRestore_email__2mtYU\",\"password\":\"PasswordRestore_password__PanrV\",\"error\":\"PasswordRestore_error__3W3IG\",\"successMessage\":\"PasswordRestore_successMessage__Hackm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feature0\":\"Feature0_feature0__3WLOo\",\"common\":\"Feature0_common__g-tSn\",\"input_wrapper\":\"Feature0_input_wrapper__3Jgy2\",\"btn_wrapper\":\"Feature0_btn_wrapper__283DC\",\"checkbox_wrapper\":\"Feature0_checkbox_wrapper__25EUo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"Home_home__AjyEs\",\"particles\":\"Home_particles__36Grd\",\"title_wrapper\":\"Home_title_wrapper__3X7vQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"label\":\"Checkbox_label__2X1Yg\",\"checkbox\":\"Checkbox_checkbox__2weTq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"header\":\"header_header__GKVcJ\",\"container\":\"header_container__3mAkQ\",\"logo_wrapper\":\"header_logo_wrapper__3RVIo\",\"logo_link\":\"header_logo_link__1q_JQ\",\"navbar\":\"header_navbar__3IRKj\",\"sub_menu_wrapper\":\"header_sub_menu_wrapper__vvg2N\",\"link\":\"header_link__hBm0G\",\"arrow_down\":\"header_arrow_down__Qg_RU\",\"active_link\":\"header_active_link__2AOd8\",\"sub_link\":\"header_sub_link__2gvmt\",\"btn_toggler\":\"header_btn_toggler__j2h3Y\",\"btn_collapse\":\"header_btn_collapse__1HNc0\",\"vertical_navbar\":\"header_vertical_navbar__2OaZF\",\"features_vertical_sub_menu_wrapper\":\"header_features_vertical_sub_menu_wrapper__32ZxF\",\"settings_vertical_sub_menu_wrapper\":\"header_settings_vertical_sub_menu_wrapper__1p9qF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"input\":\"Input_input__1n4NA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"container\":\"Button_container__3_c7i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"settings\":\"Settings_settings__2NJoF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"features\":\"Features_features__mGMdp\"};","import axios from \"axios\";\r\nimport {registerFieldsType} from \"../bll/state/registerReducer\";\r\n\r\n\r\nconst axiosInstance = axios.create(\r\n    {\r\n        // TODO Change before every deploy\r\n        baseURL: 'https://neko-back.herokuapp.com/2.0/',\r\n        // baseURL: 'http://localhost:7542/2.0/',\r\n        withCredentials: true,\r\n        // headers: {'API-KEY': '0b2bdd80-32f2-11ea-aa6d-ebd61add4aaa'}\r\n    },\r\n);\r\n// declare module 'axios' {\r\n//     export interface AxiosRequestConfig {\r\n//         page?: number;\r\n//     }\r\n// }\r\n\r\ntype LoginResponseType = {}\r\n\r\n// email: \"nya-admin@nya.nya\"\r\n// password: \"1qazxcvBG\"\r\nexport const loginAPI = {\r\n    login(email: string, password: string, remember: boolean) {\r\n        return (\r\n            axiosInstance.post(`auth/login`, {email, password, remember})\r\n        )\r\n    },\r\n    logout() {\r\n        return (\r\n            axiosInstance.delete(`auth/me`, {})\r\n        )\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    auth() {\r\n        return (\r\n            axiosInstance.post('auth/me', {})\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport const registerAPI = {\r\n    register(values: registerFieldsType) {\r\n        return (\r\n            axiosInstance.post('auth/register', values)\r\n        )\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    changeInfo(name: string, avatar: string) {\r\n        return (\r\n            axiosInstance.put('auth/me', {name, avatar})\r\n        )\r\n    }\r\n}\r\n\r\nexport const settingsAPI = {\r\n    restore(email: string) {\r\n        return (\r\n            axiosInstance.post('auth/forgot', {\r\n                email,\r\n                from: '<alexeygorbachevskiyy@gmail.com>',\r\n                message: `<div style=\"background-color: lime; padding:15px; font-size: 16px\">\r\nPassword recovery link: \r\n<!--TODO Change before every deploy-->\r\n<a href=\"https://alexeygorbachevskiy.github.io/PartyCards/#/new_password/$token$\">Link</a>\r\n<!--<a href=\"http://localhost:3000/PartyCards#/new_password/$token$\">Link</a>-->\r\n</div>`\r\n            })\r\n        )\r\n    },\r\n\r\n    setNewPassword(password: string, token: string) {\r\n\r\n        return (\r\n            axiosInstance.post('auth/set-new-password', {password, resetPasswordToken: token})\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport const packsAPI = {\r\n    //?&pageCount=817\r\n    getPacks(min: number, max: number, page: number, pageSize: number) {\r\n        return (\r\n            axiosInstance.get(`cards/pack?&pageCount=${pageSize}&page=${page}&min=${min}&max=${max}`)\r\n        )\r\n    },\r\n    postPack(packName: string, privatePack: boolean) {\r\n        return (\r\n            axiosInstance.post(`cards/pack`, {cardsPack: {name: packName, private: privatePack}})\r\n        )\r\n    },\r\n    updatePack(packId: string, packName: string) {\r\n        return (\r\n            axiosInstance.put(`cards/pack`, {cardsPack: {_id: packId, name: packName}})\r\n        )\r\n    },\r\n    deletePack(packId: string) {\r\n        return (\r\n            axiosInstance.delete(`cards/pack?id=${packId}`)\r\n        )\r\n    },\r\n    searchForPackName(packName: string, myAccountId: string, min: number, max: number, page: number, pageSize: number) {\r\n        return (\r\n            axiosInstance.get(`cards/pack?&pageCount=${pageSize}&page=${page}&min=${min}&max=${max}&packName=${packName}&user_id=${myAccountId}`)\r\n        )\r\n    },\r\n    sortPacks(sortField: string, sortOrder: string, packName: string, myAccountId: string, min: number, max: number, page: number, pageSize: number) {\r\n        let sortOrderNumber: string | number = '';\r\n        if (sortOrder === 'ascend') {\r\n            sortOrderNumber = 1;\r\n        } else if (sortOrder === 'descend') {\r\n            sortOrderNumber = 0;\r\n        }\r\n\r\n        let sortOrderResult = '';\r\n        if (sortOrderNumber !== '') {\r\n            sortOrderResult = `${sortOrderNumber}${sortField}`\r\n        }\r\n\r\n        return (\r\n            axiosInstance.get(`cards/pack?&sortPacks=${sortOrderResult}&pageCount=${pageSize}&page=${page}&min=${min}&max=${max}&packName=${packName}&user_id=${myAccountId}`)\r\n        )\r\n    },\r\n\r\n}\r\n\r\nexport const cardsAPI = {\r\n    getCards(packId: string, page: number, chosenPackCardsCount: number | null,sortField: string, sortOrder: string) {\r\n\r\n        let pageCount = 26;\r\n        if (chosenPackCardsCount) {\r\n            pageCount = chosenPackCardsCount;\r\n        }\r\n\r\n        let sortOrderNumber: string | number = '';\r\n        if (sortOrder === 'ascend') {\r\n            sortOrderNumber = 1;\r\n        } else if (sortOrder === 'descend') {\r\n            sortOrderNumber = 0;\r\n        }\r\n\r\n        let sortOrderResult = '';\r\n        if (sortOrderNumber !== '') {\r\n            sortOrderResult = `${sortOrderNumber}${sortField}`\r\n        }\r\n\r\n        return (\r\n            axiosInstance.get(`cards/card?&cardsPack_id=${packId}&page=${page}&pageCount=${pageCount}&sortCards=${sortOrderResult}`)\r\n        )\r\n    },\r\n    postCard(packId: string, question: string, answer: string) {\r\n\r\n        return (\r\n            axiosInstance.post(`cards/card`, {card: {cardsPack_id: packId, question, answer}})\r\n        )\r\n    },\r\n    deleteCard(cardId: string) {\r\n\r\n        return (\r\n            axiosInstance.delete(`cards/card?id=${cardId}`)\r\n        )\r\n    },\r\n    editCard(cardId: string, question: string, answer: string) {\r\n        return (\r\n            axiosInstance.put(`cards/card`, {card: {_id: cardId, question, answer}})\r\n        )\r\n    },\r\n\r\n    searchForCardQuestion(packId: string, question: string | null, currentPage: number, pageSize: number) {\r\n        return (\r\n            axiosInstance.get(`cards/card?&cardsPack_id=${packId}&cardQuestion=${question}&page=${currentPage}&pageCount=${pageSize}`)\r\n        )\r\n    },\r\n    sortCards(packId: string, sortField: string, sortOrder: string, currentPage: number, pageSize: number) {\r\n        let sortOrderNumber: string | number = '';\r\n        if (sortOrder === 'ascend') {\r\n            sortOrderNumber = 1;\r\n        } else if (sortOrder === 'descend') {\r\n            sortOrderNumber = 0;\r\n        }\r\n\r\n        let sortOrderResult = '';\r\n        if (sortOrderNumber !== '') {\r\n            sortOrderResult = `${sortOrderNumber}${sortField}`\r\n        }\r\n\r\n        return (\r\n            axiosInstance.get(`cards/card?&sortCards=${sortOrderResult}&cardsPack_id=${packId}&page=${currentPage}&pageCount=${pageSize}`)\r\n        )\r\n    },\r\n\r\n}\r\n","import {ThunkAction} from \"redux-thunk\";\r\nimport {AppRootType} from \"./store\";\r\nimport {getAuthInfoThunkCreator} from \"./authReducer\";\r\n\r\n\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nlet initialState = {\r\n    isCurrentPageProfile: false,\r\n    initialized: false\r\n}\r\n\r\nexport type AppReducerActionTypes = InitializedSuccessACType | SetIsCurrentPageProfileACType\r\nconst appReducer = (state: initialStateType = initialState, action: AppReducerActionTypes): initialStateType => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n\r\n            }\r\n        }\r\n\r\n        case SET_PROFILE_AS_CURRENT_PAGE:{\r\n            return {\r\n                ...state,\r\n                isCurrentPageProfile: action.isCurrentPge\r\n\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\nconst SET_PROFILE_AS_CURRENT_PAGE = 'SET_PROFILE_AS_CURRENT_PAGE';\r\n\r\nexport type InitializedSuccessACType = {\r\n    type: typeof INITIALIZED_SUCCESS\r\n}\r\nexport type SetIsCurrentPageProfileACType = {\r\n    type: typeof SET_PROFILE_AS_CURRENT_PAGE,\r\n    isCurrentPge: boolean\r\n}\r\n\r\n\r\nexport const initializedSuccessAC = (): InitializedSuccessACType => ({\r\n    type: INITIALIZED_SUCCESS\r\n});\r\n\r\nexport const setIsCurrentPageProfileAC = (isCurrentPge:boolean): SetIsCurrentPageProfileACType => ({\r\n    type: SET_PROFILE_AS_CURRENT_PAGE, isCurrentPge\r\n});\r\n\r\n\r\nexport const initializeAppThunkCreator = (): ThunkAction<void, AppRootType, unknown, AppReducerActionTypes> => {\r\n    return (\r\n        (dispatch: any, getState) => {\r\n            dispatch(getAuthInfoThunkCreator())\r\n        }\r\n    )\r\n};\r\n\r\n\r\nexport default appReducer;\r\n","\r\nimport {Dispatch} from \"redux\";\r\nimport {authAPI} from \"../../dal/API\";\r\nimport {setLoginDataAC, SetLoginDataACType} from \"./loginReducer\";\r\nimport {initializedSuccessAC, InitializedSuccessACType} from \"./appReducer\";\r\n\r\nexport type initialStateType = typeof initialState\r\nconst initialState = {\r\n    isAuth:false,\r\n}\r\n\r\n\r\ntype ActionTypes = AuthDataACResponseType | SetLoginDataACType\r\n\r\nexport const authReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n\r\n\r\n        case SET_AUTH: {\r\n            return {\r\n                ...state,\r\n                isAuth: action.isAuth\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst SET_AUTH = 'SET_AUTH'\r\n\r\nexport type AuthDataACResponseType = {\r\n    type: typeof SET_AUTH,\r\n    isAuth:boolean\r\n}\r\n\r\nexport const setAuthDataAC = (isAuth: boolean): AuthDataACResponseType => {\r\n    return {type: 'SET_AUTH', isAuth}\r\n}\r\n\r\nexport const getAuthInfoThunkCreator = () => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | InitializedSuccessACType>) => {\r\n\r\n            authAPI.auth()\r\n                .then((res) => {\r\n                    console.log(res.data)\r\n                    dispatch(setLoginDataAC(res.data))\r\n                    dispatch(setAuthDataAC(true))\r\n\r\n                    dispatch(initializedSuccessAC())\r\n\r\n                })\r\n                .catch((e) => {\r\n                    dispatch(initializedSuccessAC())\r\n                    // const error = e.response ? e.response.data.error : (e.message + 'more details in console')\r\n                    // dispatch(setLoginErrorAC(error))\r\n                    // console.log('Error', error)\r\n\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\n\r\n","// export let smth = v1();\r\n\r\nimport {Dispatch} from \"redux\";\r\nimport {AuthDataACResponseType} from \"./authReducer\";\r\nimport {registerAPI} from \"../../dal/API\";\r\nimport {setLoadingAC, SetLoadingACType} from \"./loginReducer\";\r\nimport {message} from \"antd\";\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    registerError: '',\r\n    status: 0,\r\n}\r\n\r\n\r\ntype ActionTypes = SetRegisterErrorACType | SetRegisterStatusACType\r\n\r\nexport const registerReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                registerError: action.registerError\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SET_ERROR = 'SET_ERROR'\r\nconst SET_STATUS = 'SET_STATUS'\r\n\r\nexport type SetRegisterErrorACType = {\r\n    type: typeof SET_ERROR,\r\n    registerError: string\r\n}\r\nexport type SetRegisterStatusACType = {\r\n    type: typeof SET_STATUS,\r\n    status: number\r\n}\r\n\r\nexport const setRegisterErrorAC = (registerError: string): SetRegisterErrorACType => {\r\n    return {type: 'SET_ERROR', registerError}\r\n}\r\nexport const setRegisterStatusAC = (status: number): SetRegisterStatusACType => {\r\n    return {type: 'SET_STATUS', status}\r\n}\r\n\r\nexport type registerFieldsType = {\r\n    email: string,\r\n    password: string\r\n}\r\n\r\n\r\nexport const registerThunkCreator = (values: registerFieldsType) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            registerAPI.register(values)\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(setRegisterStatusAC(res.status))\r\n                    dispatch(setLoadingAC(false))\r\n                    dispatch(setRegisterErrorAC(''))\r\n                    message.success('You are successfully registered. Log in now.');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + 'more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setRegisterErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\n","\r\nimport {Dispatch} from \"redux\";\r\nimport {setLoadingAC, SetLoadingACType} from \"./loginReducer\";\r\nimport {settingsAPI} from \"../../dal/API\";\r\nimport {message} from \"antd\";\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState= {\r\n    mewPasswordMessage:'',\r\n    newPasswordError:'',\r\n}\r\n\r\n\r\ntype ActionTypes = SetNewPasswordSuccessMessageACType | SetNewPasswordErrorACType\r\n\r\nexport const newPasswordReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType=> {\r\n    switch (action.type) {\r\n\r\n        case SET_NEW_PASSWORD_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                mewPasswordMessage:action.mewPasswordMessage\r\n            }\r\n        }\r\n        case SET_NEW_PASSWORD_ERROR: {\r\n            return {\r\n                ...state,\r\n                newPasswordError: action.newPasswordError\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SET_NEW_PASSWORD_MESSAGE='SET_NEW_PASSWORD_MESSAGE'\r\nconst SET_NEW_PASSWORD_ERROR='SET_NEW_PASSWORD_ERROR'\r\n\r\nexport type SetNewPasswordSuccessMessageACType = {\r\n    type: typeof SET_NEW_PASSWORD_MESSAGE,\r\n    mewPasswordMessage: string\r\n}\r\nexport type SetNewPasswordErrorACType = {\r\n    type: typeof SET_NEW_PASSWORD_ERROR,\r\n    newPasswordError: string\r\n}\r\n\r\nexport const setNewPasswordSuccessMessageAC = (mewPasswordMessage: string): SetNewPasswordSuccessMessageACType => {\r\n    return {type: 'SET_NEW_PASSWORD_MESSAGE', mewPasswordMessage}\r\n}\r\nexport const setNewPasswordErrorAC = (newPasswordError: string): SetNewPasswordErrorACType => {\r\n    return {type: 'SET_NEW_PASSWORD_ERROR', newPasswordError}\r\n}\r\n\r\nexport const setNewPasswordThunkCreator = (password: string, token:string) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | SetLoadingACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            settingsAPI.setNewPassword(password,token)\r\n                .then((res) => {\r\n                    // console.log(res)\r\n                    dispatch(setNewPasswordSuccessMessageAC(res.data.info))\r\n                    dispatch(setNewPasswordErrorAC(''))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Password was successfully changed. Log in now.');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + 'more details in console')\r\n                    dispatch(setNewPasswordErrorAC(error))\r\n\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n","// export let smth = v1();\r\n\r\n\r\nimport {Dispatch} from \"redux\";\r\nimport {loginAPI} from \"../../dal/API\";\r\nimport {AuthDataACResponseType, setAuthDataAC} from \"./authReducer\";\r\nimport {\r\n    setRegisterErrorAC,\r\n    SetRegisterErrorACType,\r\n    setRegisterStatusAC,\r\n    SetRegisterStatusACType\r\n} from \"./registerReducer\";\r\nimport {\r\n    setNewPasswordErrorAC,\r\n    SetNewPasswordErrorACType,\r\n    setNewPasswordSuccessMessageAC,\r\n    SetNewPasswordSuccessMessageACType\r\n} from \"./newPasswordReducer\";\r\n\r\nexport type initialStateType = typeof initialState\r\nconst initialState = {\r\n    _id: '',\r\n    email: '',\r\n    name: '',\r\n    avatar: '',\r\n    publicCardPacksCount: 0,\r\n    created: '',\r\n    updated: '',\r\n    isAdmin: false,\r\n    verified: false,\r\n    rememberMe: false,\r\n\r\n    error: '',\r\n    isLoading: false,\r\n}\r\n\r\n\r\ntype ActionTypes = SetLoginDataACType | SetLoginErrorACType | SetLoadingACType\r\n\r\nexport const loginReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_LOGIN_DATA: {\r\n            return {\r\n                ...state,\r\n                _id: action.loginData._id,\r\n                email: action.loginData.email,\r\n                name: action.loginData.name,\r\n                avatar: action.loginData.avatar,\r\n                publicCardPacksCount: action.loginData.publicCardPacksCount,\r\n                created: action.loginData.created,\r\n                updated: action.loginData.updated,\r\n                isAdmin: action.loginData.isAdmin,\r\n                verified: action.loginData.verified,\r\n                rememberMe: action.loginData.rememberMe,\r\n                error: '',\r\n            }\r\n        }\r\n\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                error: action.error\r\n            }\r\n        }\r\n        case SET_LOADING: {\r\n            return {\r\n                ...state,\r\n                isLoading: action.isLoading\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SET_LOGIN_DATA = 'SET_LOGIN_DATA'\r\nconst SET_ERROR = 'SET_ERROR'\r\nconst SET_LOADING = 'SET_LOADING'\r\n\r\nexport type LoginDataResponseType = {\r\n    _id: string,\r\n    email: string,\r\n    name: string,\r\n    avatar: string,\r\n    publicCardPacksCount: number,\r\n    created: string,\r\n    updated: string,\r\n    isAdmin: boolean,\r\n    verified: boolean,\r\n    rememberMe: boolean,\r\n}\r\nexport type SetLoginDataACType = {\r\n    type: typeof SET_LOGIN_DATA,\r\n    loginData: LoginDataResponseType\r\n}\r\n\r\nexport type SetLoginErrorACType = {\r\n    type: typeof SET_ERROR,\r\n    error: string\r\n}\r\nexport type SetLoadingACType = {\r\n    type: typeof SET_LOADING\r\n    isLoading: boolean\r\n}\r\n\r\nexport const setLoginDataAC = (loginData: LoginDataResponseType): SetLoginDataACType => {\r\n    return {type: 'SET_LOGIN_DATA', loginData}\r\n}\r\n\r\nexport const setLoginErrorAC = (error: string): SetLoginErrorACType => {\r\n    return {type: 'SET_ERROR', error}\r\n}\r\nexport const setLoadingAC = (isLoading: boolean): SetLoadingACType => {\r\n    return {type: 'SET_LOADING', isLoading}\r\n}\r\n\r\nexport const loginThunkCreator = (email: string, password: string, remember: boolean) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetRegisterStatusACType | SetRegisterErrorACType\r\n            | SetNewPasswordErrorACType | SetNewPasswordSuccessMessageACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            loginAPI.login(email, password, remember)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(setLoginDataAC(res.data))\r\n                    dispatch(setAuthDataAC(true))\r\n\r\n                    // reset register state\r\n                    dispatch(setRegisterStatusAC(0))\r\n                    dispatch(setRegisterErrorAC(''))\r\n\r\n                    //reset new Password state\r\n                    dispatch(setNewPasswordErrorAC(''))\r\n                    dispatch(setNewPasswordSuccessMessageAC(''))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + 'more details in console')\r\n                    dispatch(setLoginErrorAC(error))\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\nexport const logoutThunkCreator = () => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            loginAPI.logout()\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(setLoginDataAC(res.data))\r\n                    dispatch(setAuthDataAC(false))\r\n\r\n                    // loader doesn't not appears\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    dispatch(setLoginErrorAC(error))\r\n                    console.log('Error', error)\r\n\r\n                    // loader doesn't not appears\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport style from './header.module.scss'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootType} from \"../../bll/state/store\";\r\nimport {logoutThunkCreator} from \"../../bll/state/loginReducer\";\r\n\r\n\r\nconst Header = () => {\r\n\r\n    //for header background color\r\n    const isCurrentPageProfile = useSelector<AppRootType, boolean>(state => state.app.isCurrentPageProfile);\r\n\r\n    const [isToggleCollapsed, setToggleCollapsed] = useState<boolean>(true);\r\n\r\n    let isAuth = useSelector<AppRootType, boolean>(state => state.auth.isAuth);\r\n    const dispatch = useDispatch();\r\n\r\n    const logout = () => {\r\n        dispatch(logoutThunkCreator())\r\n    }\r\n\r\n    const onToggleMenu = () => {\r\n        setToggleCollapsed(!isToggleCollapsed);\r\n\r\n    }\r\n\r\n    const chosenPackId = useSelector<AppRootType, string | null>(state => state.cards.chosenPackData.packId);\r\n    const chosenPackName = useSelector<AppRootType, string | null>(state => state.cards.chosenPackData.packName);\r\n\r\n\r\n    return (\r\n        <div className={style.header}\r\n             style={isCurrentPageProfile ? {backgroundColor: '#1e2326'} : {backgroundColor: 'transparent'}}>\r\n            <div className={style.container}\r\n                 style={!isToggleCollapsed ? {'backgroundColor': '#1e2326'} : {'backgroundColor': 'transparent'}}>\r\n\r\n                <div className={style.logo_wrapper}>\r\n                    <NavLink className={style.logo_link} to={'/home'}>\r\n                        Party<span>Cards</span>\r\n                    </NavLink>\r\n                </div>\r\n\r\n                <ul className={style.navbar}>\r\n                    <li>\r\n                        <NavLink activeClassName={style.active_link} className={style.link} to={'/home'}>Home</NavLink>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <NavLink activeClassName={style.active_link} className={style.link}\r\n                                 to={'/profile'}>Profile</NavLink>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <NavLink activeClassName={style.active_link} className={style.link}\r\n                                 to={'/packs'}>Packs</NavLink>\r\n                    </li>\r\n\r\n                    <li>\r\n                        <NavLink activeClassName={style.active_link} className={style.link}\r\n                                 to={`${chosenPackId ? \"/cards/\" + chosenPackName + '/' + chosenPackId : \"/cards/noName/noId\"}`}>Cards</NavLink>\r\n                    </li>\r\n\r\n\r\n                    {\r\n                        isAuth ? '' :\r\n                            <li>\r\n                                <NavLink activeClassName={style.active_link} className={style.link}\r\n                                         to={'/password_restore'}>Restore</NavLink>\r\n                            </li>\r\n                    }\r\n\r\n                    {\r\n                        isAuth ? '' :\r\n\r\n                            <li>\r\n                                <NavLink activeClassName={style.active_link} className={style.link}\r\n                                         to={'/register'}>Register</NavLink>\r\n                            </li>\r\n                    }\r\n\r\n                    {\r\n                        isAuth ?\r\n                            <li>\r\n                                <NavLink onClick={logout}\r\n                                         className={style.logout + ' ' + style.link}\r\n                                         to={'#'}>Log Out\r\n                                </NavLink>\r\n                            </li>\r\n                            :\r\n                            <li>\r\n                                <NavLink activeClassName={style.active_link} className={style.link}\r\n                                         to={'/login'}>Log In\r\n                                </NavLink>\r\n                            </li>\r\n                    }\r\n\r\n\r\n                </ul>\r\n\r\n                <button onClick={onToggleMenu} className={isToggleCollapsed ? style.btn_toggler : style.btn_collapse}>\r\n                    <span/>\r\n                    <span/>\r\n                    <span/>\r\n                </button>\r\n\r\n            </div>\r\n\r\n\r\n            <ul className={style.vertical_navbar} style={!isToggleCollapsed ? {\r\n                'visibility': 'visible',\r\n                'opacity': '1',\r\n                'zIndex': 1001\r\n            } : {'visibility': 'hidden', 'opacity': '0'}}>\r\n                <li>\r\n                    <NavLink activeClassName={style.active_link} className={style.link} to={'/home'}>Home</NavLink>\r\n                </li>\r\n\r\n                <li>\r\n                    <NavLink activeClassName={style.active_link} className={style.link}\r\n                             to={'/profile'}>Profile</NavLink>\r\n                </li>\r\n\r\n                <li>\r\n                    <NavLink activeClassName={style.active_link} className={style.link}\r\n                             to={'/packs'}>Packs</NavLink>\r\n                </li>\r\n                <li>\r\n                    <NavLink activeClassName={style.active_link} className={style.link}\r\n                             to={`${chosenPackId ? \"/cards/\" + chosenPackName + '/' + chosenPackId : \"/cards/noName/noId\"}`}>Cards</NavLink>\r\n                </li>\r\n\r\n\r\n                {\r\n                    isAuth ? '' :\r\n                        <li>\r\n                            <NavLink activeClassName={style.active_link} className={style.link}\r\n                                     to={'/password_restore'}>Restore</NavLink>\r\n                        </li>\r\n                }\r\n\r\n\r\n                {\r\n                    isAuth ? '' :\r\n                        <li>\r\n                            <NavLink activeClassName={style.active_link} className={style.link}\r\n                                     to={'/register'}>Register</NavLink>\r\n                        </li>\r\n                }\r\n\r\n                {\r\n                    isAuth ?\r\n                        <li>\r\n                            <NavLink\r\n                                onClick={logout}\r\n                                className={style.logout + ' ' + style.link}\r\n                                to={'#'}>Log\r\n                                Out</NavLink>\r\n                        </li>\r\n                        :\r\n                        <li>\r\n                            <NavLink activeClassName={style.active_link} className={style.link} to={'/login'}>Log\r\n                                In</NavLink>\r\n                        </li>\r\n                }\r\n\r\n\r\n            </ul>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport style from './Home.module.scss'\r\nimport Particles from 'react-particles-js';\r\n\r\n\r\n// const particlesOptions = {\r\n//     particles: {\r\n//         number: {\r\n//             value: 80,\r\n//             density: {\r\n//                 enable: true,\r\n//                 value_area: 800\r\n//             }\r\n//         }\r\n//     }\r\n// }\r\n\r\nconst particlesOptions: any = {\r\n\r\n    \"particles\": {\r\n        \"number\": {\r\n            \"value\": 80,\r\n            \"density\": {\r\n                \"enable\": true,\r\n                \"value_area\": 800\r\n            }\r\n        },\r\n        \"color\": {\r\n            \"value\": \"#ffffff\"\r\n        },\r\n        \"shape\": {\r\n            \"type\": \"circle\",\r\n            \"stroke\": {\r\n                \"width\": 0,\r\n                \"color\": \"#000000\"\r\n            },\r\n            \"polygon\": {\r\n                \"nb_sides\": 5\r\n            },\r\n            \"image\": {\r\n                \"width\": 100,\r\n                \"height\": 100\r\n            }\r\n        },\r\n        \"opacity\": {\r\n            \"value\": 0.5,\r\n            \"random\": false,\r\n            \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 1,\r\n                \"opacity_min\": 0.1,\r\n                \"sync\": false\r\n            }\r\n        },\r\n        \"size\": {\r\n            \"value\": 5,\r\n            \"random\": true,\r\n            \"anim\": {\r\n                \"enable\": false,\r\n                \"speed\": 40,\r\n                \"size_min\": 0.1,\r\n                \"sync\": false\r\n            }\r\n        },\r\n        \"line_linked\": {\r\n            \"enable\": true,\r\n            \"distance\": 150,\r\n            \"color\": \"#ffffff\",\r\n            \"opacity\": 0.4,\r\n            \"width\": 1\r\n        },\r\n        \"move\": {\r\n            \"enable\": true,\r\n            \"speed\": 6,\r\n            \"direction\": \"none\",\r\n            \"random\": false,\r\n            \"straight\": false,\r\n            \"out_mode\": \"out\",\r\n            \"attract\": {\r\n                \"enable\": false,\r\n                \"rotateX\": 600,\r\n                \"rotateY\": 1200\r\n            }\r\n        }\r\n    },\r\n    \"interactivity\": {\r\n        \"detect_on\": \"canvas\",\r\n        \"events\": {\r\n            \"onhover\": {\r\n                \"enable\": true,\r\n                \"mode\": \"repulse\"\r\n            },\r\n            \"onclick\": {\r\n                \"enable\": true,\r\n                \"mode\": \"push\"\r\n            },\r\n            \"resize\": true\r\n        },\r\n        \"modes\": {\r\n            \"grab\": {\r\n                \"distance\": 400,\r\n                \"line_linked\": {\r\n                    \"opacity\": 1\r\n                }\r\n            },\r\n            \"bubble\": {\r\n                \"distance\": 400,\r\n                \"size\": 40,\r\n                \"duration\": 2,\r\n                \"opacity\": 8,\r\n                \"speed\": 3\r\n            },\r\n            \"repulse\": {\r\n                \"distance\": 200\r\n            },\r\n            \"push\": {\r\n                \"particles_nb\": 4\r\n            },\r\n            \"remove\": {\r\n                \"particles_nb\": 2\r\n            }\r\n        }\r\n    },\r\n    \"retina_detect\": true,\r\n    \"config_demo\": {\r\n        \"hide_card\": false,\r\n        \"background_color\": \"#b61924\",\r\n        \"background_image\": \"\",\r\n        \"background_position\": \"50% 50%\",\r\n        \"background_repeat\": \"no-repeat\",\r\n        \"background_size\": \"cover\"\r\n    }\r\n}\r\n\r\n\r\n\r\nconst Home = () => {\r\n\r\n    return (\r\n        <div className={style.home}>\r\n            <Particles className={style.particles} params={particlesOptions}/>\r\n            <div className={style.title_wrapper}>\r\n                <h1>Alexey <br/>Gorbachevskiy</h1>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Home;","import React from 'react';\r\nimport {Redirect} from \"react-router\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppRootType} from \"../../bll/state/store\";\r\n\r\n\r\nexport const withAuthRedirect = (Component: any) => {\r\n\r\n    function RedirectComponent(props: any) {\r\n        const isAuth = useSelector<AppRootType, boolean>(state => state.auth.isAuth);\r\n\r\n        if (!isAuth) {\r\n            return <Redirect to={'/login'}/>\r\n        }\r\n        return <Component {...props}/>\r\n\r\n    }\r\n\r\n\r\n    return RedirectComponent\r\n}\r\n\r\n\r\n","import {Dispatch} from \"redux\";\r\nimport {profileAPI} from \"../../dal/API\";\r\nimport {setLoadingAC, SetLoadingACType} from \"./loginReducer\";\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n    name: '',\r\n    avatar: '',\r\n}\r\n\r\n\r\ntype ActionTypes = SetProfileInfoACType\r\n\r\nexport const profileReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SAVE_PROFILE_INFO: {\r\n            return {\r\n                ...state,\r\n                name: action.name,\r\n                avatar: action.avatar,\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SAVE_PROFILE_INFO = 'SAVE_PROFILE_INFO'\r\n\r\nexport type SetProfileInfoACType = {\r\n    type: typeof SAVE_PROFILE_INFO,\r\n    name: string,\r\n    avatar:string\r\n}\r\n\r\nexport const saveProfileInfoAC = (name: string, avatar:string): SetProfileInfoACType => {\r\n    return {type: 'SAVE_PROFILE_INFO', name, avatar}\r\n}\r\n\r\nexport const changeInfoThunkCreator = (name:string, avatar:string) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | SetLoadingACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            profileAPI.changeInfo(name, avatar)\r\n                .then((res) => {\r\n                    saveProfileInfoAC(res.data.name,res.data.avatar)\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    // const error = e.response ? e.response.data.error : (e.message + 'more details in console')\r\n\r\n                    console.log('Error', e)\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport obj from \"./Preloader.module.css\";\r\n\r\n\r\nfunction Preloader() {\r\n    return (\r\n        <>\r\n            <img className={obj.preloader} src={process.env.PUBLIC_URL + '/images/spinner.svg'} alt={'Preloader svg'}/>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Preloader;\r\n","import React, {ChangeEvent, useEffect, useState} from 'react';\r\nimport style from './Profile.module.scss'\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {AppRootType} from \"../../../bll/state/store\";\r\nimport {withAuthRedirect} from \"../../../utilities/hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {setIsCurrentPageProfileAC} from \"../../../bll/state/appReducer\";\r\nimport {changeInfoThunkCreator} from \"../../../bll/state/profileReducer\";\r\nimport obj from \"../../common/preloader/Preloader.module.css\";\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\n\r\n\r\nconst Profile = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    let loginData = useSelector<AppRootType, any>(state => state.login);\r\n    let isAuth = useSelector<AppRootType, boolean>(state => state.auth.isAuth);\r\n    let loginName = useSelector<AppRootType, string>(state => state.login.name);\r\n    let loginAvatar = useSelector<AppRootType, string>(state => state.login.avatar);\r\n    let loginEmail = useSelector<AppRootType, string>(state => state.login.email);\r\n    const [name, setName] = useState<string>(loginName);\r\n    const [avatar, setAvatar] = useState<string>(loginAvatar);\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n\r\n    const onChangeNameInput = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setName(e.currentTarget.value)\r\n    }\r\n    const onChangeAvatarInput=(e: ChangeEvent<HTMLInputElement>)=>{\r\n        setAvatar(e.currentTarget.value)\r\n    }\r\n    const [isChangeBtnClicked, setIsChangeBtnClicked] = useState(false);\r\n    const changeInfo = () => {\r\n        setIsChangeBtnClicked(true);\r\n    }\r\n    const saveInfo = () => {\r\n        dispatch(changeInfoThunkCreator(name,avatar))\r\n        setIsChangeBtnClicked(false);\r\n    }\r\n\r\n\r\n\r\n    // for header background\r\n    useEffect(() => {\r\n        dispatch(setIsCurrentPageProfileAC(true))\r\n\r\n        return () => {\r\n            dispatch(setIsCurrentPageProfileAC(false))\r\n        }\r\n    }, [])\r\n\r\n\r\n    if (isLoading) {\r\n        return <div className=\"App\" style={{display:'flex', justifyContent:'center',alignItems:'center'}}>\r\n            <Preloader/>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div className={style.profile}>\r\n\r\n            {\r\n                isAuth ?\r\n                    <>\r\n                        <div className={style.profile_info}>\r\n                            <div className={style.profile_info_header}>\r\n                                {/*<img src={`${loginData.avatar}`} alt=\"Avatar\"/>*/}\r\n                                <img className={style.avatar} src={ `${avatar ? avatar : process.env.PUBLIC_URL+'/favicon.ico'}`}\r\n                                     alt=\"Avatar\"/>\r\n\r\n                                <div className={style.profile_info_header_content}>\r\n                                    {\r\n                                        isLoading ?\r\n                                            <img style={{position:'absolute'}} className={obj.preloader} src={process.env.PUBLIC_URL + '/images/spinner.svg'} alt={'Preloader svg'}/>\r\n                                            : ''\r\n                                    }\r\n                                    {\r\n                                        isChangeBtnClicked ?\r\n                                            <>\r\n                                            <div>Name:\r\n                                                <input onChange={onChangeNameInput} value={name}/>\r\n                                            </div>\r\n                                                <div>Avatar:\r\n                                                    <input onChange={onChangeAvatarInput} value={avatar}/>\r\n                                                </div>\r\n\r\n                                            </>\r\n                                            :\r\n                                            <div>Name: <span>{name}</span></div>\r\n                                    }\r\n                                    <div>Email: <span>{loginEmail}</span></div>\r\n\r\n                                    {\r\n                                        isChangeBtnClicked ?\r\n                                            <button onClick={saveInfo}\r\n                                                    className={style.profile_info_save_btn}>Save\r\n                                            </button>\r\n                                            :\r\n                                            <button onClick={changeInfo}\r\n                                                    className={style.profile_info_change_btn}>Change\r\n                                            </button>\r\n                                    }\r\n\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div className={style.extra_info}>\r\n                                <p>Card Packs Count: {loginData.publicCardPacksCount}</p>\r\n                            </div>\r\n\r\n\r\n                        </div>\r\n                        <div className={style.profile_settings}>\r\n                            <h2>Profile Settings</h2>\r\n\r\n                            <p>Id: {loginData._id}</p>\r\n                            <p>Created: {loginData.created}</p>\r\n                            <p>Updated: {loginData.updated}</p>\r\n                            <p>Is Admin: {loginData.isAdmin ? 'Yes' : 'No'} </p>\r\n                            <p>Is Verified: {loginData.verified ? 'Yes' : 'No'} </p>\r\n                            <p>Is Remembered: {loginData.rememberMe ? 'Yes' : 'No'} </p>\r\n                        </div>\r\n                    </>\r\n                    : ''\r\n\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n)(Profile)\r\n","import React, {DetailedHTMLProps, InputHTMLAttributes, KeyboardEvent} from 'react';\r\nimport style from './Input.module.scss'\r\n\r\n// type InputPropsType={\r\n//     placeholder?: string\r\n//     value?:string\r\n//     onChange?:()=>void\r\n// }\r\n\r\nexport type InputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n    & { onEnter?: () => void };\r\n\r\n\r\nconst Input = (propsI: InputPropsType) => {\r\n\r\n    const {onEnter, ...props} = propsI;\r\n\r\n    const onEnterCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.charCode === 13) {\r\n            onEnter && onEnter();\r\n        }\r\n    }\r\n    return (\r\n            <input\r\n                onKeyPress={onEnterCallback}\r\n                className={style.input}\r\n                type={'text'}\r\n                {...propsI}\r\n            />\r\n    );\r\n}\r\n\r\n\r\nexport default Input;\r\n","import React, {DetailedHTMLProps, InputHTMLAttributes} from 'react';\r\nimport style from './Checkbox.module.scss'\r\n\r\n\r\ntype CheckboxPropsType =\r\n    DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>\r\n    & { labelText?: string };\r\n\r\n\r\nconst Checkbox = (props: CheckboxPropsType) => {\r\n\r\n    return (\r\n        <label className={style.label}>\r\n            <input\r\n                className={style.checkbox}\r\n                type={'checkbox'}\r\n                {...props}\r\n            />\r\n            <span> {props.labelText}</span>\r\n        </label>\r\n    );\r\n}\r\n\r\n\r\nexport default Checkbox;\r\n","import React, {DetailedHTMLProps, HTMLAttributes} from 'react';\r\nimport style from './Button.module.scss'\r\n\r\n\r\n//\r\n// type ButtonPropsType = {\r\n//     children: string\r\n//     onClick?: () => void\r\n// }\r\n\r\ntype ButtonPropsType=DetailedHTMLProps<HTMLAttributes<HTMLDivElement>, HTMLDivElement>;\r\n\r\n\r\nconst Button = (props: ButtonPropsType) => {\r\n\r\n    return (\r\n        <div className={style.container} {...props}>\r\n            <p>{props.children}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Button;\r\n","import React, {useEffect, useState} from 'react';\r\nimport style from './Login.module.scss'\r\nimport Input from \"../../common/input/Input\";\r\nimport Checkbox from \"../../common/checkbox/Checkbox\";\r\nimport Button from \"../../common/button/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {loginThunkCreator, setLoginErrorAC} from \"../../../bll/state/loginReducer\";\r\nimport {AppRootType} from \"../../../bll/state/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport obj from \"../../common/preloader/Preloader.module.css\";\r\n\r\n\r\nconst Login = () => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [remember, setRemember] = useState(false);\r\n    const dispatch = useDispatch();\r\n\r\n    const stateError = useSelector<AppRootType, string>(state => state.login.error)\r\n    // const stateEmail = useSelector<AppRootType, string>(state => state.login.email)\r\n    const isAuth = useSelector<AppRootType, boolean>(state => state.auth.isAuth);\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n\r\n    const onLogin = () => {\r\n        if (email.trim() === '' || password.trim() === '') {\r\n            dispatch(setLoginErrorAC('All fields should be filled'))\r\n        } else {\r\n            dispatch(setLoginErrorAC(''))\r\n            dispatch(loginThunkCreator(email, password, remember));\r\n        }\r\n    }\r\n\r\n    const [errorStyle, setErrorStyle] = useState({})\r\n\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            setEmail('');\r\n            setPassword('');\r\n            setRemember(false);\r\n            dispatch(setLoginErrorAC(''))\r\n        }\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (stateError) {\r\n            setErrorStyle({\r\n                borderColor: '#cf0c0c',\r\n            })\r\n        } else {\r\n            setErrorStyle({})\r\n        }\r\n\r\n    }, [stateError])\r\n\r\n    // if (isLoading) {\r\n    //     return (\r\n    //         <div className=\"App\" style={{display:'flex', justifyContent:'center',alignItems:'center'}}>\r\n    //             <Preloader/>\r\n    //         </div>\r\n    //     )\r\n    // }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to=\"/profile\"/>;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={style.login}>\r\n\r\n            <div className={style.login_form}>\r\n                <h2>Log In</h2>\r\n\r\n                {/*<div className={style.credentials}>*/}\r\n                {/*    <p>Email: \"alexeygorbachevskiyy@gmail.com\" </p>*/}\r\n\r\n                {/*    <p> Password: \"alexeygorbachevskiy\"</p>*/}\r\n                {/*</div>*/}\r\n\r\n                <div className={style.form}>\r\n                    <Input style={errorStyle} onChange={(e) => {\r\n                        setEmail(e.currentTarget.value)\r\n                    }}\r\n                           value={email}\r\n                           className={style.input + ' ' + style.email}\r\n                           placeholder={'Email'}\r\n                    />\r\n                    <Input style={errorStyle} onChange={(e) => {\r\n                        setPassword(e.currentTarget.value)\r\n                    }}\r\n                           value={password}\r\n                           className={style.input + ' ' + style.password}\r\n                           placeholder={'Password'}\r\n                           type={'password'}\r\n                    />\r\n                    <label>\r\n                        <Checkbox\r\n                            style={errorStyle}\r\n                            checked={remember}\r\n                            onChange={(e) => {\r\n                                setRemember(!remember)\r\n                            }}/> Remember Me?\r\n                    </label>\r\n                </div>\r\n                <p className={style.error}>{stateError}</p>\r\n\r\n                <Button onClick={onLogin} style={{width: '150px'}}>Log In</Button>\r\n\r\n\r\n            </div>\r\n            {\r\n                isLoading &&\r\n                <img style={{position: 'absolute', zIndex: 1200}} className={obj.preloader}\r\n                     src={process.env.PUBLIC_URL + '/images/spinner.svg'} alt={'Preloader svg'}/>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React, {useEffect, useState} from 'react';\r\nimport style from './Register.module.scss'\r\nimport Input from \"../../common/input/Input\";\r\nimport Button from \"../../common/button/Button\";\r\nimport {useFormik} from \"formik\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {registerThunkCreator} from \"../../../bll/state/registerReducer\";\r\nimport {AppRootType} from \"../../../bll/state/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport obj from \"../../common/preloader/Preloader.module.css\";\r\n\r\n\r\nconst Register = () => {\r\n    const registerError = useSelector<AppRootType, string>(state => state.register.registerError)\r\n    const registerStatus = useSelector<AppRootType, number>(state => state.register.status)\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n    const dispatch = useDispatch();\r\n    const [errorStyle1, setErrorStyle1] = useState({})\r\n    const [errorStyle2, setErrorStyle2] = useState({})\r\n\r\n    useEffect(() => {\r\n        if (registerError) {\r\n            setErrorStyle1({\r\n                borderColor: '#cf0c0c',\r\n            })\r\n            setErrorStyle2({\r\n                borderColor: '#cf0c0c',\r\n            })\r\n        } else {\r\n            setErrorStyle1({})\r\n            setErrorStyle2({})\r\n        }\r\n\r\n    }, [registerError])\r\n\r\n\r\n    const formik = useFormik({\r\n\r\n\r\n        validate: (values) => {\r\n            if (!values.email) {\r\n                setErrorStyle1({\r\n                    borderColor: '#cf0c0c',\r\n                })\r\n                return {\r\n                    email: 'Email is required'\r\n                }\r\n            }\r\n            else{\r\n                setErrorStyle1({})\r\n            }\r\n\r\n            if (!values.password) {\r\n                setErrorStyle2({\r\n                    borderColor: '#cf0c0c',\r\n                })\r\n                return {\r\n                    password: 'Password is required'\r\n                }\r\n            }\r\n            else{\r\n                setErrorStyle2({})\r\n            }\r\n\r\n\r\n        },\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(registerThunkCreator(values))\r\n        },\r\n    });\r\n\r\n    useEffect(() => {\r\n        if (registerStatus === 201) {\r\n            formik.resetForm();\r\n        }\r\n    }, [registerStatus, registerError])\r\n\r\n    if (registerStatus === 201) {\r\n        return <Redirect to=\"/login\"/>;\r\n    }\r\n\r\n    return (\r\n        <div className={style.register}>\r\n            <div className={style.register_form}>\r\n                <h2>Registration</h2>\r\n\r\n\r\n                <div className={style.form}>\r\n                    <Input\r\n                        style={errorStyle1}\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.email}\r\n                        className={style.input + ' ' + style.email}\r\n                        placeholder={'Email'}\r\n\r\n                    />\r\n                    {formik.errors.email ? <div style={{color:'red'}}>{formik.errors.email}</div> : null}\r\n                    <Input\r\n                        style={errorStyle2}\r\n                        className={style.input + ' ' + style.password}\r\n                        placeholder={'Password'}\r\n                        type={'password'}\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        onChange={formik.handleChange}\r\n                        value={formik.values.password}\r\n                    />\r\n                    {formik.errors.password ? <div style={{color:'red'}}>{formik.errors.password}</div> : null}\r\n                </div>\r\n\r\n\r\n                {registerError ? <div style={{color:'red'}}>{registerError}</div>  : ''}\r\n\r\n                <Button onClick={() => formik.handleSubmit()} style={{width: '150px'}}>Register</Button>\r\n            </div>\r\n            {\r\n                isLoading &&\r\n                <img style={{position: 'absolute', zIndex: 1200}} className={obj.preloader}\r\n                     src={process.env.PUBLIC_URL + '/images/spinner.svg'} alt={'Preloader svg'}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport style from './Settings.module.scss'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\nconst Settings=()=>{\r\n\r\n\r\n    return <Redirect to=\"/password_restore\"/>;\r\n\r\n    return (\r\n        <div className={style.settings}>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","import React, {useEffect, useState} from 'react';\r\nimport style from './NewPassword.module.scss'\r\nimport Input from \"../../../common/input/Input\";\r\nimport Button from \"../../../common/button/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Redirect, useParams} from \"react-router-dom\";\r\nimport {setNewPasswordErrorAC, setNewPasswordThunkCreator} from \"../../../../bll/state/newPasswordReducer\";\r\nimport {AppRootType} from \"../../../../bll/state/store\";\r\nimport obj from \"../../../common/preloader/Preloader.module.css\";\r\n\r\n\r\nconst NewPassword = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [password, setPassword] = useState('');\r\n    let newPasswordError = useSelector<AppRootType, string>(state => state.newPassword.newPasswordError);\r\n    let successMessage = useSelector<AppRootType, string>(state => state.newPassword.mewPasswordMessage);\r\n    const [errorStyle, setErrorStyle] = useState({})\r\n\r\n    const {token} = useParams();\r\n    const sendLinkToEmail = () => {\r\n        if(password.trim()===''){\r\n            setErrorStyle({\r\n                borderColor: '#cf0c0c',\r\n            })\r\n            dispatch(setNewPasswordErrorAC('All fields should be filled'))\r\n        }\r\n        else{\r\n            dispatch(setNewPasswordThunkCreator(password,token));\r\n            setPassword('');\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!newPasswordError && successMessage){\r\n            setPassword('');\r\n        }\r\n        if(!newPasswordError){\r\n            setErrorStyle({})\r\n        }\r\n        else{\r\n            setErrorStyle({\r\n                borderColor: '#cf0c0c',\r\n            })\r\n        }\r\n    },[newPasswordError,successMessage])\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            dispatch(setNewPasswordErrorAC(''))\r\n        }\r\n    },[])\r\n\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n    // if (isLoading) {\r\n    //     return (\r\n    //         <div className=\"App\" style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n    //             <Preloader/>\r\n    //         </div>\r\n    //     )\r\n    // }\r\n\r\n    if(successMessage && !newPasswordError){\r\n        return <Redirect to=\"/login\"/>;\r\n    }\r\n\r\n    return (\r\n        <div className={style.new_password}>\r\n            <div className={style.new_password_form}>\r\n                <h2>New Password</h2>\r\n\r\n\r\n                <div className={style.form}>\r\n                    <Input style={errorStyle} onChange={(e) => {\r\n                        setPassword(e.currentTarget.value)\r\n                    }}\r\n                           type={'password'}\r\n                           value={password}\r\n                           className={style.input + ' ' + style.password}\r\n                           placeholder={'Type new password'}\r\n                    />\r\n                </div>\r\n\r\n                {\r\n                    newPasswordError && <p className={style.error}>{newPasswordError}</p>\r\n                }\r\n\r\n\r\n                <Button onClick={sendLinkToEmail} style={{width: '150px'}}>Save</Button>\r\n            </div>\r\n            {\r\n                isLoading &&\r\n                <img style={{position: 'absolute', zIndex: 1200}} className={obj.preloader}\r\n                     src={process.env.PUBLIC_URL + '/images/spinner.svg'} alt={'Preloader svg'}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPassword\r\n","import {Dispatch} from \"redux\";\r\nimport {settingsAPI} from \"../../dal/API\";\r\nimport {setLoadingAC, SetLoadingACType} from \"./loginReducer\";\r\nimport {message} from \"antd\";\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState= {\r\n    passwordRestoreError:'',\r\n    passwordRestoreSuccessMessage:'',\r\n}\r\n\r\n\r\n\r\n\r\ntype ActionTypes = setSettingsErrorACType | setSettingsSuccessMessageACType\r\n\r\nexport const passwordRestoreReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType=> {\r\n    switch (action.type) {\r\n\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                passwordRestoreError:action.passwordRestoreError\r\n            }\r\n        }\r\n        case SET_SUCCESS_MESSAGE: {\r\n            return {\r\n                ...state,\r\n                passwordRestoreSuccessMessage:action.passwordRestoreSuccessMessage\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SET_ERROR='SET_ERROR'\r\nconst SET_SUCCESS_MESSAGE='SET_SUCCESS_MESSAGE'\r\n\r\nexport type setSettingsErrorACType = {\r\n    type: typeof SET_ERROR,\r\n    passwordRestoreError: string\r\n}\r\nexport type setSettingsSuccessMessageACType = {\r\n    type: typeof SET_SUCCESS_MESSAGE,\r\n    passwordRestoreSuccessMessage: string\r\n}\r\n\r\nexport const setSettingsErrorAC = (passwordRestoreError: string): setSettingsErrorACType => {\r\n    return {type: 'SET_ERROR', passwordRestoreError}\r\n}\r\nexport const setSettingsSuccessMessageAC = (passwordRestoreSuccessMessage: string): setSettingsSuccessMessageACType => {\r\n    return {type: 'SET_SUCCESS_MESSAGE', passwordRestoreSuccessMessage}\r\n}\r\n\r\n\r\nexport const restorePasswordThunkCreator = (email: string) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | SetLoadingACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            settingsAPI.restore(email)\r\n                .then((res) => {\r\n                    // console.log(res)\r\n                    dispatch(setSettingsSuccessMessageAC(res.data.info))\r\n                    dispatch(setSettingsErrorAC(''))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Check your email for link');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + 'more details in console')\r\n                    dispatch(setSettingsErrorAC(error))\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport style from './PasswordRestore.module.scss'\r\nimport Input from \"../../../common/input/Input\";\r\nimport Button from \"../../../common/button/Button\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    restorePasswordThunkCreator,\r\n    setSettingsErrorAC,\r\n    setSettingsSuccessMessageAC\r\n} from \"../../../../bll/state/passwordRestoreReducer\";\r\nimport {AppRootType} from \"../../../../bll/state/store\";\r\nimport obj from \"../../../common/preloader/Preloader.module.css\";\r\n\r\n\r\nconst PasswordRestore = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [email, setEmail] = useState('');\r\n    let passwordRestoreError = useSelector<AppRootType, string>(state => state.passwordRestore.passwordRestoreError);\r\n    let successMessage = useSelector<AppRootType, string>(state => state.passwordRestore.passwordRestoreSuccessMessage);\r\n    const [errorStyle, setErrorStyle] = useState({})\r\n    const sendLinkToEmail = () => {\r\n\r\n        if(email.trim()===''){\r\n            dispatch(setSettingsErrorAC('All fields should be filled'))\r\n        }\r\n        else{\r\n            dispatch(setSettingsErrorAC(''))\r\n            dispatch(restorePasswordThunkCreator(email));\r\n            setTimeout(() => {\r\n                dispatch(setSettingsSuccessMessageAC(''))\r\n                successMessage = '';\r\n            }, 4000)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!passwordRestoreError && successMessage){\r\n            setEmail('');\r\n        }\r\n        if(!passwordRestoreError){\r\n            setErrorStyle({})\r\n        }\r\n        else{\r\n            setErrorStyle({\r\n                borderColor: '#cf0c0c',\r\n            })\r\n        }\r\n    },[passwordRestoreError,successMessage])\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            dispatch(setSettingsErrorAC(''))\r\n            setEmail('');\r\n        }\r\n    },[])\r\n\r\n\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n\r\n\r\n    // if (isLoading) {\r\n    //     return (\r\n    //         <div className=\"App\" style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n    //             <Preloader/>\r\n    //         </div>\r\n    //     )\r\n    // }\r\n\r\n    return (\r\n        <div className={style.password_restore}>\r\n            <div className={style.password_restore_form}>\r\n                <h2>Restore Password</h2>\r\n\r\n\r\n                <div className={style.form}>\r\n                    <Input style={errorStyle} onChange={(e) => {\r\n                        setEmail(e.currentTarget.value)\r\n                    }}\r\n                           value={email}\r\n                           className={style.input + ' ' + style.email}\r\n                           placeholder={'Type your email'}\r\n                    />\r\n                </div>\r\n                {\r\n                    passwordRestoreError && <p className={style.error}>{passwordRestoreError}</p>\r\n                }\r\n\r\n                <Button onClick={sendLinkToEmail} style={{width: '150px'}}>Send</Button>\r\n            </div>\r\n            {\r\n                isLoading &&\r\n                <img style={{position: 'absolute', zIndex: 1200}} className={obj.preloader}\r\n                     src={process.env.PUBLIC_URL + '/images/spinner.svg'} alt={'Preloader svg'}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PasswordRestore\r\n","import React from 'react';\r\nimport style from './Features.module.scss'\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../../utilities/hoc/withAuthRedirect\";\r\n\r\n\r\nconst Features = () => {\r\n\r\n\r\n    return (\r\n        <div className={style.features}>\r\n            Features\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n)(Features)\r\n","import React, {ChangeEvent, useState} from 'react';\r\nimport style from './Feature0.module.scss'\r\nimport Button from \"../../main/ui/common/button/Button\";\r\nimport Input from \"../../main/ui/common/input/Input\";\r\nimport Checkbox from \"../../main/ui/common/checkbox/Checkbox\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../main/utilities/hoc/withAuthRedirect\";\r\n\r\nconst Feature0 = () => {\r\n\r\n\r\n    const [checkboxValue, setCheckboxValue] = useState(false);\r\n    const onCheckboxClick = () => {\r\n        setCheckboxValue(!checkboxValue);\r\n    }\r\n\r\n    const [inputValue, setInputValue] = useState('');\r\n    const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setInputValue(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={style.feature0}>\r\n            <h2>\r\n                Common Components\r\n            </h2>\r\n\r\n            <div className={style.common}>\r\n                <div className={style.checkbox_wrapper}>\r\n                    <Checkbox onChange={onCheckboxClick} checked={checkboxValue} labelText={'Hello'}/>\r\n                </div>\r\n\r\n                <div className={style.input_wrapper}>\r\n                    <Input onChange={onInputChange} value={inputValue} placeholder={'Hi there'}/>\r\n                </div>\r\n\r\n                <div className={style.btn_wrapper}>\r\n                    <Button>Hi all</Button>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n)(Feature0)\r\n","import {Dispatch} from \"redux\";\r\nimport {AuthDataACResponseType} from \"./authReducer\";\r\nimport {packsAPI} from \"../../dal/API\";\r\nimport {setLoadingAC, SetLoadingACType} from \"./loginReducer\";\r\nimport {message} from \"antd\";\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n\r\n    currentMinCardsCount: 0,\r\n    currentMaxCardsCount: 26,\r\n\r\n    preflightTotalCount: null as number | null,\r\n\r\n    packsData: {\r\n        cardPacks: [] as Array<CardPacksItemType>,\r\n        cardPacksTotalCount: null as number | null,\r\n        maxCardsCount: null as number | null,\r\n        minCardsCount: null as number | null,\r\n        page: null as number | null,\r\n        pageCount: null as number | null,\r\n        token: '',\r\n        tokenDeathTime: null as number | null,\r\n    },\r\n\r\n    packsError: '',\r\n}\r\n\r\n\r\ntype ActionTypes = SetPacksErrorACType | SetPacksDataACType | SetPacksTotalCountACType | SetMinMaxCardsCountsACType\r\n\r\nexport const packsReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_PACKS_DATA: {\r\n            return {\r\n                ...state,\r\n                packsData: {\r\n                    cardPacks: [...action.packsData.cardPacks.map(el => ({...el}))],\r\n                    cardPacksTotalCount: action.packsData.cardPacksTotalCount,\r\n                    maxCardsCount: action.packsData.maxCardsCount,\r\n                    minCardsCount: action.packsData.minCardsCount,\r\n                    page: action.packsData.page,\r\n                    pageCount: action.packsData.pageCount,\r\n                    token: action.packsData.token,\r\n                    tokenDeathTime: action.packsData.tokenDeathTime,\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                packsError: action.packsError,\r\n            }\r\n        }\r\n\r\n        case SET_MIN_MAX_CARDS_COUNT: {\r\n            return {\r\n                ...state,\r\n                currentMinCardsCount: action.currentMinCardsCount,\r\n                currentMaxCardsCount: action.currentMaxCardsCount,\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SET_ERROR = 'SET_ERROR'\r\nconst SET_PACKS_DATA = 'SET_PACKS_DATA'\r\nconst SET_PACKS_TOTAL_COUNT = 'SET_PACKS_TOTAL_COUNT'\r\nconst SET_MIN_MAX_CARDS_COUNT = 'SET_MIN_MAX_CARDS_COUNT'\r\n\r\n\r\nexport type CardPacksItemType = {\r\n    cardsCount: number\r\n    created: string\r\n    deckCover: any\r\n    grade: number\r\n    more_id: string\r\n    name: string\r\n    path: string\r\n    private: boolean\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    updated: string\r\n    user_id: string\r\n    user_name: string\r\n    _v: number\r\n    _id: string\r\n\r\n}\r\n\r\nexport type PacksDataType = {\r\n    cardPacks: Array<CardPacksItemType>\r\n    cardPacksTotalCount: number | null\r\n    maxCardsCount: number | null\r\n    minCardsCount: number | null\r\n    page: number | null\r\n    pageCount: number | null\r\n    token: string\r\n    tokenDeathTime: number | null\r\n}\r\n\r\nexport type SetPacksErrorACType = {\r\n    type: typeof SET_ERROR,\r\n    packsError: string\r\n}\r\n\r\nexport type SetPacksDataACType = {\r\n    type: typeof SET_PACKS_DATA,\r\n    packsData: PacksDataType\r\n}\r\nexport type SetPacksTotalCountACType = {\r\n    type: typeof SET_PACKS_TOTAL_COUNT,\r\n    packsTotalCount: number\r\n}\r\n\r\nexport type SetMinMaxCardsCountsACType = {\r\n    type: typeof SET_MIN_MAX_CARDS_COUNT,\r\n    currentMinCardsCount: number,\r\n    currentMaxCardsCount: number,\r\n}\r\n\r\n\r\nexport const setMinMaxCardsCountsAC = (currentMinCardsCount: number, currentMaxCardsCount: number): SetMinMaxCardsCountsACType => {\r\n    return {type: 'SET_MIN_MAX_CARDS_COUNT', currentMinCardsCount, currentMaxCardsCount}\r\n}\r\n\r\nexport const setPacksErrorAC = (packsError: string): SetPacksErrorACType => {\r\n    return {type: 'SET_ERROR', packsError}\r\n}\r\n\r\nexport const setPacksDataAC = (packsData: PacksDataType): SetPacksDataACType => {\r\n    return {type: 'SET_PACKS_DATA', packsData}\r\n}\r\n\r\n\r\nexport const getPacksThunkCreator = (min: number, max: number, page: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType | SetPacksErrorACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            packsAPI.getPacks(min, max, page, pageSize)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(setPacksDataAC(res.data))\r\n                    dispatch(setMinMaxCardsCountsAC(min, max))\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setPacksErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\nexport const postNewPackThunkCreator = (min: number, max: number, packName: string, privatePack: boolean, page: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | SetLoadingACType | any>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            packsAPI.postPack(packName, privatePack)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(getPacksThunkCreator(min, max, page, pageSize))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('New pack was successfully created');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setPacksErrorAC(error))\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const updatePackThunkCreator = (min: number, max: number, packId: string, packName: string, page: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | SetLoadingACType | any>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            packsAPI.updatePack(packId, packName)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(getPacksThunkCreator(min, max, page, pageSize))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Pack was successfully updated');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setPacksErrorAC(error))\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const deletePackThunkCreator = (min: number, max: number, packId: string, page: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | SetLoadingACType | any>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            packsAPI.deletePack(packId)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(getPacksThunkCreator(min, max, page, pageSize))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Pack was successfully deleted');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setPacksErrorAC(error))\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const searchForPackName = (packName: string, myAccountId: string, min: number, max: number, page: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType | SetPacksErrorACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            packsAPI.searchForPackName(packName, myAccountId, min, max, page, pageSize)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(setPacksDataAC(res.data))\r\n                    dispatch(setMinMaxCardsCountsAC(min, max))\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setPacksErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const sortPacks = (sortField: string, sortOrder: string, packName: string, myAccountId: string, min: number, max: number, page: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType | SetPacksErrorACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            packsAPI.sortPacks(sortField, sortOrder, packName, myAccountId, min, max, page, pageSize)\r\n                .then((res) => {\r\n                    console.log(res)\r\n\r\n                    dispatch(setPacksDataAC(res.data))\r\n                    dispatch(setMinMaxCardsCountsAC(min, max))\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setPacksErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n","import {Dispatch} from \"redux\";\r\nimport {AuthDataACResponseType} from \"./authReducer\";\r\nimport {cardsAPI} from \"../../dal/API\";\r\nimport {setLoadingAC, SetLoadingACType} from \"./loginReducer\";\r\nimport {message} from \"antd\";\r\n\r\ntype initialStateType = typeof initialState\r\nconst initialState = {\r\n\r\n\r\n    cardsData: {\r\n        cards: [] as Array<CardsItemType>,\r\n        cardsTotalCount: null as number | null,\r\n        maxGrade: null as number | null,\r\n        minGrade: null as number | null,\r\n        page: null as number | null,\r\n        pageCount: null as number | null,\r\n    },\r\n\r\n    chosenPackData: {\r\n        packName: null as string | null,\r\n        packId: null as string | null,\r\n        cardsCount: null as number | null,\r\n    },\r\n\r\n    cardsError: '',\r\n}\r\n\r\n\r\ntype ActionTypes = SetCardsDataACType | SetCardsErrorACType | SetChosenPackDataACType | ResetCardsStateACType\r\n\r\nexport const cardsReducer = (state: initialStateType = initialState, action: ActionTypes): initialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_CARDS_DATA: {\r\n            return {\r\n                ...state,\r\n                cardsData: {\r\n                    cards: [...action.cardsData.cards.map(el => ({...el}))],\r\n                    cardsTotalCount: action.cardsData.cardsTotalCount,\r\n                    maxGrade: action.cardsData.maxGrade,\r\n                    minGrade: action.cardsData.minGrade,\r\n                    page: action.cardsData.page,\r\n                    pageCount: action.cardsData.pageCount,\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        case SET_ERROR: {\r\n            return {\r\n                ...state,\r\n                cardsError: action.cardsError,\r\n            }\r\n        }\r\n\r\n        case SET_CHOSEN_PACK_DATA: {\r\n            return {\r\n                ...state,\r\n                chosenPackData: {...action.chosenPackData}\r\n            }\r\n        }\r\n\r\n        case RESET_CARDS_STATE: {\r\n            return initialState\r\n        }\r\n\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nconst SET_ERROR = 'SET_ERROR'\r\nconst SET_CARDS_DATA = 'SET_CARDS_DATA'\r\nconst SET_CHOSEN_PACK_DATA = 'SET_CHOSEN_PACK_DATA'\r\nconst RESET_CARDS_STATE = 'RESET_CARDS_STATE'\r\n\r\n\r\nexport type CardsItemType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type CardsDataType = {\r\n    cards: Array<CardsItemType>\r\n    cardsTotalCount: number | null\r\n    maxGrade: number | null\r\n    minGrade: number | null\r\n    page: number | null\r\n    pageCount: number | null\r\n}\r\n\r\nexport type SetCardsErrorACType = {\r\n    type: typeof SET_ERROR,\r\n    cardsError: string\r\n}\r\n\r\nexport type SetCardsDataACType = {\r\n    type: typeof SET_CARDS_DATA,\r\n    cardsData: CardsDataType\r\n}\r\n\r\n\r\nexport const setCardsErrorAC = (cardsError: string): SetCardsErrorACType => {\r\n    return {type: 'SET_ERROR', cardsError}\r\n}\r\n\r\nexport const setCardsDataAC = (cardsData: CardsDataType): SetCardsDataACType => {\r\n    return {type: 'SET_CARDS_DATA', cardsData}\r\n}\r\n\r\n\r\nexport const getCardsThunkCreator = (packId: string, page: number, chosenPackCardsCount: number | null, sortField: string, sortOrder: string) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            cardsAPI.getCards(packId, page, chosenPackCardsCount, sortField, sortOrder)\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(setCardsDataAC(res.data))\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setCardsErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport type SetChosenPackDataACType = {\r\n    type: typeof SET_CHOSEN_PACK_DATA,\r\n    chosenPackData: ChosenPackDataType\r\n}\r\n\r\nexport type ResetCardsStateACType = {\r\n    type: typeof RESET_CARDS_STATE,\r\n}\r\n\r\ntype ChosenPackDataType = {\r\n    packName: string | null,\r\n    packId: string | null,\r\n    cardsCount: number | null,\r\n}\r\n\r\nexport const setChosenPackDataAC = (chosenPackData: ChosenPackDataType): SetChosenPackDataACType => {\r\n    return {type: 'SET_CHOSEN_PACK_DATA', chosenPackData}\r\n}\r\nexport const resetCardsStateAC = (): ResetCardsStateACType => {\r\n    return {type: 'RESET_CARDS_STATE'}\r\n}\r\n\r\n\r\nexport const postCardThunkCreator = (packId: string, question: string, answer: string, currentPage: number, pageSize: number, sortColumn: any, sortOrder: any) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType | any>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            cardsAPI.postCard(packId, question, answer)\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(getCardsThunkCreator(packId, currentPage, pageSize, sortColumn, sortOrder))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Card was successfully created');\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setCardsErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const deleteCardThunkCreator = (packId: string, cardId: string, currentPage: number, pageSize: number, sortColumn: any, sortOrder: any) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType | any>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            cardsAPI.deleteCard(cardId)\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(getCardsThunkCreator(packId, currentPage, pageSize, sortColumn, sortOrder))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Card was successfully deleted');\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setCardsErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const updateCardThunkCreator = (packId: string, cardId: string, question: string, answer: string, currentPage: number,pageSize:number, sortColumn:any, sortOrder:any) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType | any>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            cardsAPI.editCard(cardId, question, answer)\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(getCardsThunkCreator(packId, currentPage, pageSize,sortColumn,sortOrder))\r\n                    dispatch(setLoadingAC(false))\r\n                    message.success('Card was successfully updated');\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setCardsErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\nexport const searchForCardQuestion = (packId: string, question: string | null, currentPage: number, pageSize: number) => {\r\n    return (\r\n        (dispatch: Dispatch<ActionTypes | AuthDataACResponseType | SetLoadingACType>) => {\r\n\r\n            // loader appears\r\n            dispatch(setLoadingAC(true))\r\n\r\n            cardsAPI.searchForCardQuestion(packId, question, currentPage, pageSize)\r\n                .then((res) => {\r\n                    console.log(res)\r\n                    dispatch(setCardsDataAC(res.data))\r\n                    dispatch(setLoadingAC(false))\r\n\r\n                })\r\n                .catch((e) => {\r\n                    const error = e.response ? e.response.data.error : (e.message + ' more details in console')\r\n                    console.log('Error', error)\r\n\r\n                    dispatch(setCardsErrorAC(error))\r\n\r\n                    dispatch(setLoadingAC(false))\r\n                })\r\n        }\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, {ChangeEvent, MouseEvent, useEffect, useState} from 'react';\r\nimport style from './Packs.module.scss'\r\nimport {Alert, Button, Checkbox, Form, Input, Modal, Popconfirm, Slider, Space, Table} from \"antd\";\r\nimport 'antd/dist/antd.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    deletePackThunkCreator,\r\n    getPacksThunkCreator,\r\n    PacksDataType,\r\n    postNewPackThunkCreator,\r\n    searchForPackName,\r\n    setPacksErrorAC,\r\n    sortPacks,\r\n    updatePackThunkCreator\r\n} from \"../../../bll/state/packsReducer\";\r\nimport {withAuthRedirect} from \"../../../utilities/hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {AppRootType} from \"../../../bll/state/store\";\r\nimport {CheckboxChangeEvent} from \"antd/es/checkbox\";\r\nimport Search from \"antd/es/input/Search\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Cards from \"../cards/Cards\";\r\nimport {setChosenPackDataAC} from \"../../../bll/state/cardsReducer\";\r\n\r\n\r\nconst Packs = () => {\r\n\r\n    const page = useSelector<AppRootType, number | null>(state => state.packs.packsData.page);\r\n    const currentPage = Number(page);\r\n\r\n    const pageCount = useSelector<AppRootType, number | null>(state => state.packs.packsData.pageCount);\r\n    const pageSize = Number(pageCount);\r\n\r\n\r\n    const currentMinCardsCount = useSelector<AppRootType, number>(state => state.packs.currentMinCardsCount);\r\n    const currentMaxCardsCount = useSelector<AppRootType, number>(state => state.packs.currentMaxCardsCount);\r\n    const myAccountId = useSelector<AppRootType, string>(state => state.login._id);\r\n\r\n    const mainError = useSelector<AppRootType, string>(state => state.packs.packsError);\r\n\r\n\r\n    const [form] = Form.useForm();\r\n    const [editingKey, setEditingKey] = useState('');\r\n    const isEditing = (record: Item) => record.key === editingKey;\r\n\r\n\r\n    const transitionToCards = (record: any) => {\r\n\r\n        const packName = packsData.cardPacks[+record.key - 1].name\r\n        const packId = packsData.cardPacks[+record.key - 1]._id\r\n        const cardsCount = packsData.cardPacks[+record.key - 1].cardsCount\r\n\r\n        dispatch(setChosenPackDataAC({packName, packId, cardsCount}))\r\n\r\n    }\r\n\r\n    const columns = [\r\n        {\r\n            title: 'Id',\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n            align: 'center' as 'center',\r\n            width: '7%'\r\n        },\r\n        {\r\n            title: 'User name',\r\n            dataIndex: 'userName',\r\n            key: 'userName',\r\n            align: 'center' as 'center',\r\n            width: '10%',\r\n        },\r\n        {\r\n            title: 'Pack name',\r\n            dataIndex: 'name',\r\n            key: 'name',\r\n            editable: true,\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Cards count',\r\n            dataIndex: 'cardsCount',\r\n            key: 'cardsCount',\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Created',\r\n            dataIndex: 'created',\r\n            key: 'created',\r\n            align: 'center' as 'center',\r\n            sorter: (a: any, b: any) => a.created - b.created,\r\n        },\r\n        {\r\n            title: 'Updated',\r\n            dataIndex: 'updated',\r\n            key: 'updated',\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: 'action',\r\n            key: 'action',\r\n            align: 'center' as 'center',\r\n            render: (_: any, record: Item) => {\r\n                const editable = isEditing(record);\r\n\r\n                return editable ? (\r\n                    <Space size=\"middle\">\r\n                        <span>\r\n                            {/*href=\"javascript:;\"*/}\r\n                            <a\r\n                                onClick={() => savePack(record.key)} style={{marginRight: 8}}>Save</a>\r\n                            <Popconfirm title=\"Sure to cancel?\" onConfirm={cancel}>\r\n                                <a>Cancel</a>\r\n                            </Popconfirm>\r\n                        </span>\r\n                    </Space>\r\n                ) : (\r\n                    <Space size=\"middle\">\r\n                        {/*disabled={editingKey !== ''} */}\r\n                        <a onClick={() => editPack(record)}>\r\n                            Edit\r\n                        </a>\r\n                        <a onClick={() => deletePack(record)}>Delete</a>\r\n                    </Space>\r\n                );\r\n\r\n\r\n            },\r\n        },\r\n        {\r\n            title: 'Cards',\r\n            key: 'cards',\r\n            align: 'center' as 'center',\r\n            render: (text: any, record: any) => (\r\n                <Space size=\"middle\">\r\n                    <NavLink onClick={() => transitionToCards(record)}\r\n                             to={`/cards/${packsData.cardPacks[+record.key - 1].name}/${packsData.cardPacks[+record.key - 1]._id}`}>Cards</NavLink>\r\n                </Space>\r\n            ),\r\n        },\r\n    ];\r\n\r\n    const packsData = useSelector<AppRootType, PacksDataType>(state => state.packs.packsData);\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(getPacksThunkCreator(0, 26, 1, 50))\r\n    }, []);\r\n\r\n\r\n    let dataSource = packsData.cardPacks.map((el, index) => {\r\n        let id;\r\n        if (packsData.pageCount && packsData.cardPacksTotalCount) {\r\n            if (packsData.page) {\r\n                id = (packsData.page - 1) * packsData.pageCount + 1 + index\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            {\r\n                key: index + 1,\r\n                id: id,\r\n                userName: el.user_name,\r\n                name: el.name,\r\n                cardsCount: el.cardsCount,\r\n                updated: new Date(el.updated).toLocaleString(),\r\n                created: new Date(el.created).toLocaleString(),\r\n            }\r\n        )\r\n    })\r\n\r\n\r\n    // on Table Change\r\n    const onTableChange = (pagination: any, filters: any, sorter: any, extra: any) => {\r\n\r\n        let myId = ''\r\n        if (searchCheckboxValue) {\r\n            myId = myAccountId\r\n        }\r\n\r\n        console.log(sorter.column)\r\n\r\n        if (sorter.column) {\r\n\r\n            dispatch(sortPacks(\r\n                sorter.column.dataIndex,\r\n                sorter.order,\r\n                searchInputValue,\r\n                myId,\r\n                currentMinCardsCount,\r\n                currentMaxCardsCount,\r\n                currentPage,\r\n                pageSize\r\n            ))\r\n        }\r\n\r\n    }\r\n\r\n    const handleAdd = () => {\r\n        showModal()\r\n    };\r\n\r\n    const handleChange = (currentPage: any, pageSize: any) => {\r\n        dispatch(getPacksThunkCreator(currentMinCardsCount, currentMaxCardsCount, Number(currentPage), Number(pageSize)))\r\n    }\r\n\r\n\r\n    // Delete Pack\r\n    const deletePack = (record: Item) => {\r\n        const id = packsData.cardPacks[+record.key - 1]._id\r\n        dispatch(deletePackThunkCreator(currentMinCardsCount, currentMaxCardsCount, id, currentPage, pageSize))\r\n    }\r\n\r\n    // Edit Pack\r\n    const editPack = (record: Item) => {\r\n        form.setFieldsValue({...record});\r\n        setEditingKey(record.key);\r\n    }\r\n\r\n    const cancel = () => {\r\n        setEditingKey('');\r\n    };\r\n\r\n    const savePack = async (key: React.Key) => {\r\n        const oldName = packsData.cardPacks[+key - 1].name;\r\n        const newName = dataSource[+key - 1].name;\r\n        const packId = packsData.cardPacks[+key - 1]._id;\r\n\r\n        if (oldName !== newName) {\r\n            dispatch(updatePackThunkCreator(currentMinCardsCount, currentMaxCardsCount, packId, newName, currentPage, pageSize))\r\n        }\r\n        setEditingKey(\"\");\r\n    }\r\n\r\n    // modal\r\n    const [stateVisible, setStateVisible] = useState(false);\r\n    const [modalInputValue, setModalInputValue] = useState('');\r\n    const [modalCheckboxValue, setModalCheckboxChange] = useState(false);\r\n    const [isModalSearchInputError, setIsModalSearchInputError] = useState(false);\r\n\r\n    const onModalCheckboxChange = (e: CheckboxChangeEvent) => {\r\n        setModalCheckboxChange(e.target.checked)\r\n    }\r\n\r\n    const onModalInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setModalInputValue(e.currentTarget.value)\r\n    }\r\n\r\n    const showModal = () => {\r\n        setStateVisible(true)\r\n    };\r\n\r\n\r\n    // Add new pack\r\n    const handleOk = (e: MouseEvent<HTMLElement>) => {\r\n\r\n        if (modalInputValue.trim() === '') {\r\n            setIsModalSearchInputError(true)\r\n            return\r\n        }\r\n\r\n        dispatch(postNewPackThunkCreator\r\n        (\r\n            currentMinCardsCount,\r\n            currentMaxCardsCount,\r\n            modalInputValue,\r\n            modalCheckboxValue,\r\n            Number(packsData.page),\r\n            Number(packsData.pageCount\r\n            )));\r\n\r\n        setModalInputValue('')\r\n        setStateVisible(false)\r\n        setModalCheckboxChange(false)\r\n\r\n        setIsModalSearchInputError(false)\r\n    };\r\n\r\n    const handleCancel = (e: MouseEvent<HTMLElement>) => {\r\n        setModalInputValue('')\r\n        setStateVisible(false)\r\n        setModalCheckboxChange(false)\r\n\r\n        setIsModalSearchInputError(false)\r\n    };\r\n\r\n\r\n    // Antd slider\r\n    function onChange(value: any) {\r\n    }\r\n\r\n    function onAfterChange(value: any) {\r\n        dispatch(getPacksThunkCreator(value[0], value[1], currentPage, pageSize))\r\n    }\r\n\r\n    // Antd search\r\n    const [searchInputValue, setSearchInputValue] = useState('')\r\n    const [searchCheckboxValue, setSearchCheckboxValue] = useState(false)\r\n\r\n    const onSearchInputChange = (e: any) => {\r\n        setSearchInputValue(e.currentTarget.value)\r\n    }\r\n\r\n    const onSearch = () => {\r\n\r\n        let myId = ''\r\n        if (searchCheckboxValue) {\r\n            myId = myAccountId\r\n        }\r\n\r\n        dispatch(searchForPackName(\r\n            searchInputValue,\r\n            myId,\r\n            currentMinCardsCount,\r\n            currentMaxCardsCount,\r\n            currentPage,\r\n            pageSize\r\n        ))\r\n\r\n        // setSearchInputValue('')\r\n    }\r\n\r\n    const onSearchCheckboxChange = (e: any) => {\r\n        setSearchCheckboxValue(e.target.checked)\r\n    }\r\n\r\n    const marks = {\r\n        0: {\r\n            style: {\r\n                color: 'white'\r\n            },\r\n            label: 0\r\n        },\r\n        26: {\r\n            style: {\r\n                color: 'white'\r\n            },\r\n            label: 26\r\n        },\r\n    };\r\n\r\n\r\n    const mergedColumns = columns.map((col) => {\r\n        // if(col.key==='action'){\r\n        //    return {\r\n        //        ...col,\r\n        //        onCell:(record:any)=>({\r\n        //            record,\r\n        //            inputType: col.dataIndex === \"cardsCount\" ? \"number\" : \"text\",\r\n        //            dataIndex: col.dataIndex,\r\n        //            title: col.title,\r\n        //            align: 'center' as 'center',\r\n        //        })\r\n        //\r\n        //    }\r\n        // }\r\n        if (!col.editable) {\r\n            return col;\r\n        }\r\n\r\n        return {\r\n            ...col,\r\n            onCell: (record: any) => ({\r\n                record,\r\n                inputType: col.dataIndex === \"cardsCount\" ? \"number\" : \"text\",\r\n                dataIndex: col.dataIndex,\r\n                title: col.title,\r\n                editing: isEditing(record),\r\n            })\r\n        };\r\n    });\r\n\r\n\r\n    const onErrorAlertClose = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        dispatch(setPacksErrorAC(''))\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={style.packs}>\r\n\r\n            <Modal\r\n                maskClosable={false}\r\n                destroyOnClose={true}\r\n                centered={true}\r\n                title=\"Add a row\"\r\n                visible={stateVisible}\r\n                onOk={handleOk}\r\n                onCancel={handleCancel}\r\n            >\r\n                <label>Type new Pack name</label>\r\n                <Input value={modalInputValue}\r\n                       onChange={onModalInputChange}\r\n                       style={\r\n                           isModalSearchInputError ?\r\n                               {borderColor: 'red', marginTop: '5px'}\r\n                               :\r\n                               {marginTop: '5px'}\r\n                       }\r\n                       type=\"text\"\r\n                />\r\n                {\r\n                    isModalSearchInputError ?\r\n                        <div style={{textAlign: 'left', color: 'red'}}>Pack Name field is required</div>\r\n                        : ''\r\n                }\r\n\r\n                {/*<label>Private</label> <span> </span>*/}\r\n                <Checkbox style={{marginTop: '5px'}}\r\n                          checked={modalCheckboxValue}\r\n                          onChange={onModalCheckboxChange}\r\n                >\r\n                    {'Private'}\r\n                </Checkbox>\r\n            </Modal>\r\n\r\n\r\n            <div className={style.pack_settings}>\r\n\r\n                <Button\r\n                    onClick={handleAdd}\r\n                    className={style.add_btn}\r\n                    // onClick={handleAdd}\r\n                    type=\"primary\"\r\n                    style={{\r\n                        // marginBottom: 16,\r\n                        marginLeft: 16,\r\n                    }}\r\n                >\r\n                    Add new Pack\r\n                </Button>\r\n\r\n                <div className={style.twice_slider}>\r\n                    <h4>Filter by cards count</h4>\r\n                    <Slider\r\n                        marks={marks}\r\n                        range\r\n                        step={1}\r\n                        min={0}\r\n                        max={26}\r\n                        defaultValue={[0, 26]}\r\n                        onChange={onChange}\r\n                        onAfterChange={onAfterChange}\r\n\r\n                    />\r\n\r\n                </div>\r\n\r\n                <div className={style.search_wrapper}>\r\n                    <Checkbox\r\n                        className={style.search_checkbox}\r\n                        checked={searchCheckboxValue}\r\n                        onChange={onSearchCheckboxChange}\r\n                    >My Packs Only\r\n                    </Checkbox>\r\n                    <Search className={style.search}\r\n                            placeholder=\"Search for Pack Name\"\r\n                            onSearch={onSearch}\r\n                            enterButton\r\n                            size=\"middle\"\r\n                            value={searchInputValue}\r\n                            onChange={onSearchInputChange}\r\n                        // allowClear\r\n                            loading={isLoading}\r\n                    />\r\n                </div>\r\n\r\n\r\n            </div>\r\n\r\n\r\n            <Form form={form} component={false}>\r\n                <Table className={style.table} dataSource={dataSource}\r\n                    // columns={columns}\r\n                       columns={mergedColumns}\r\n\r\n                       onChange={onTableChange}\r\n\r\n                       components={{\r\n                           body: {\r\n                               cell: EditableCell,\r\n                           },\r\n                       }}\r\n                       bordered\r\n                       rowClassName={style.editableRow}\r\n                       scroll={{x: 1500, y: 400}}\r\n                       loading={isLoading}\r\n                       pagination={{\r\n                           total: packsData.cardPacksTotalCount ? packsData.cardPacksTotalCount : 5,\r\n                           defaultPageSize: 50,\r\n                           showSizeChanger: true,\r\n                           pageSizeOptions: ['1', '5', '10', '50', '100'],\r\n                           onChange: handleChange,\r\n                           // onShowSizeChange: handleSelectSize\r\n                       }}\r\n                />\r\n            </Form>\r\n\r\n            {\r\n                mainError &&\r\n                <Alert\r\n                    style={{position: 'absolute'}}\r\n                    message=\"Error\"\r\n                    description={mainError}\r\n                    type=\"error\"\r\n                    showIcon\r\n                    closable\r\n                    onClose={onErrorAlertClose}\r\n                />\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\ninterface Item {\r\n    key: any;\r\n    id: any,\r\n    name: string;\r\n    cardsCount: number,\r\n    updated: any,\r\n    created: string\r\n}\r\n\r\n\r\ninterface EditableCellProps extends React.HTMLAttributes<HTMLElement> {\r\n    editing: boolean;\r\n    dataIndex: string;\r\n    title: any;\r\n    inputType: 'number' | 'text';\r\n    record: Item;\r\n    index: number;\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst EditableCell: React.FC<EditableCellProps> = ({\r\n                                                       editing,\r\n                                                       dataIndex,\r\n                                                       title,\r\n                                                       inputType,\r\n                                                       record,\r\n                                                       index,\r\n                                                       children,\r\n                                                       ...restProps\r\n                                                   }) => {\r\n\r\n    const [editableInputValue, setEditableInputValue] = useState('')\r\n    const onEditableInputChange = (e: any) => {\r\n        setEditableInputValue(e.target.value)\r\n        record.name = e.target.value\r\n    }\r\n    // const inputNode = inputType === 'number' ?\r\n    //     <InputNumber value={0} onChange={onEditableInputChange} /> : <Input value={''} onChange={onEditableInputChange}/>;\r\n\r\n    const inputNode = <Input value={editableInputValue} onChange={onEditableInputChange}/>;\r\n\r\n    return (\r\n        <td {...restProps}>\r\n            {editing ? (\r\n                <Form.Item\r\n                    name={dataIndex}\r\n                    style={{margin: 0}}\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `Please Input ${title}!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    {inputNode}\r\n                </Form.Item>\r\n            ) : (\r\n                children\r\n            )}\r\n        </td>\r\n    );\r\n};\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n)(Packs)\r\n","import React, {ChangeEvent, MouseEvent, useEffect, useState} from 'react';\r\nimport {compose} from 'redux';\r\nimport style from './Cards.module.scss'\r\nimport {Alert, Button, Form, Input, Modal, Popconfirm, Space, Table} from \"antd\";\r\nimport 'antd/dist/antd.css';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {setPacksErrorAC} from \"../../../bll/state/packsReducer\";\r\nimport {AppRootType} from \"../../../bll/state/store\";\r\nimport {withAuthRedirect} from \"../../../utilities/hoc/withAuthRedirect\";\r\nimport {\r\n    CardsDataType,\r\n    deleteCardThunkCreator,\r\n    getCardsThunkCreator,\r\n    postCardThunkCreator,\r\n    resetCardsStateAC,\r\n    searchForCardQuestion,\r\n    setChosenPackDataAC,\r\n    updateCardThunkCreator\r\n} from \"../../../bll/state/cardsReducer\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport Search from \"antd/es/input/Search\";\r\n\r\n\r\nconst Cards = () => {\r\n\r\n\r\n    const page = useSelector<AppRootType, number | null>(state => state.cards.cardsData.page);\r\n    const currentPage = Number(page);\r\n\r\n\r\n    const pageCount = useSelector<AppRootType, number | null>(state => state.cards.cardsData.pageCount);\r\n    const pageSize = Number(pageCount);\r\n\r\n    const [sortColumn, setSortColumn] = useState('')\r\n    const [sortOrder, setSortOrder] = useState('')\r\n\r\n    const [form] = Form.useForm();\r\n    const [editingKey, setEditingKey] = useState('');\r\n    const isEditing = (record: Item) => record.key === editingKey;\r\n    const columns = [\r\n        {\r\n            title: 'Id',\r\n            dataIndex: 'id',\r\n            key: 'id',\r\n            align: 'center' as 'center',\r\n            width: '7%'\r\n        },\r\n        {\r\n            title: 'Pack name',\r\n            dataIndex: 'packName',\r\n            key: 'packName',\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Question',\r\n            dataIndex: 'question',\r\n            key: 'question',\r\n            editable: true,\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Answer',\r\n            dataIndex: 'answer',\r\n            key: 'answer',\r\n            editable: true,\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Grade',\r\n            dataIndex: 'grade',\r\n            key: 'grade',\r\n            align: 'center' as 'center',\r\n            sorter: (a: any, b: any) => a.grade - b.grade,\r\n        },\r\n        {\r\n            title: 'Shots',\r\n            dataIndex: 'shots',\r\n            key: 'shots',\r\n            align: 'center' as 'center',\r\n            sorter: (a: any, b: any) => a.shots - b.shots,\r\n        },\r\n        {\r\n            title: 'Created',\r\n            dataIndex: 'created',\r\n            key: 'created',\r\n            align: 'center' as 'center',\r\n            sorter: (a: any, b: any) => a.created - b.created,\r\n        },\r\n        {\r\n            title: 'Updated',\r\n            dataIndex: 'updated',\r\n            key: 'updated',\r\n            align: 'center' as 'center',\r\n        },\r\n        {\r\n            title: 'Action',\r\n            dataIndex: 'action',\r\n            key: 'action',\r\n            align: 'center' as 'center',\r\n            render: (_: any, record: Item) => {\r\n                const editable = isEditing(record);\r\n\r\n                return editable ? (\r\n                    <Space size=\"middle\">\r\n                        <span>\r\n                            {/*href=\"javascript:;\"*/}\r\n                            <a onClick={() => saveCard(record.key)} style={{marginRight: 8}}>Save</a>\r\n                            <Popconfirm\r\n                                title=\"Sure to cancel?\" onConfirm={cancelEditing}>\r\n                                <a>Cancel</a>\r\n                            </Popconfirm>\r\n                        </span>\r\n                    </Space>\r\n                ) : (\r\n                    <Space size=\"middle\">\r\n                        {/*disabled={editingKey !== ''} */}\r\n                        <a onClick={() => editCard(record)}>\r\n                            Edit\r\n                        </a>\r\n                        <a\r\n                            onClick={() => deleteCard(record)}\r\n                        >Delete\r\n                        </a>\r\n                    </Space>\r\n                );\r\n\r\n\r\n            },\r\n        },\r\n    ];\r\n\r\n    const mainError = useSelector<AppRootType, string>(state => state.cards.cardsError);\r\n    const isLoading = useSelector<AppRootType, boolean>(state => state.login.isLoading);\r\n    const cardsData = useSelector<AppRootType, CardsDataType>(state => state.cards.cardsData);\r\n\r\n    const dispatch = useDispatch();\r\n    let {packName, packId} = useParams();\r\n    // const chosenPackId = useSelector<AppRootType, string | null>(state => state.cards.chosenPackData.packId);\r\n    // const chosenPackName = useSelector<AppRootType, string | null>(state => state.cards.chosenPackData.packName);\r\n    const chosenPackCardsCount = useSelector<AppRootType, number | null>(state => state.cards.chosenPackData.cardsCount);\r\n\r\n    useEffect(() => {\r\n        if (packId && packId !== 'noId') {\r\n            dispatch(getCardsThunkCreator(packId, 1, 5, '', ''))\r\n            dispatch(setChosenPackDataAC({packName: packName, packId: packId, cardsCount: chosenPackCardsCount}))\r\n        }\r\n        return () => {\r\n            dispatch(resetCardsStateAC())\r\n        }\r\n    }, [packId, chosenPackCardsCount]);\r\n\r\n\r\n    let dataSource = cardsData.cards.map((el, index) => {\r\n        let id;\r\n        if (cardsData.pageCount && cardsData.cardsTotalCount) {\r\n            if (cardsData.page) {\r\n                id = (cardsData.page - 1) * cardsData.pageCount + 1 + index\r\n            }\r\n\r\n        }\r\n\r\n        return (\r\n            {\r\n                key: index + 1,\r\n                id: id,\r\n                packName: packName,\r\n                question: el.question,\r\n                answer: el.answer,\r\n                grade: el.grade,\r\n                shots: el.shots,\r\n                created: new Date(el.created).toLocaleString(),\r\n                updated: new Date(el.updated).toLocaleString(),\r\n            }\r\n        )\r\n    })\r\n\r\n\r\n    const mergedColumns = columns.map((col) => {\r\n        // if(col.key==='action'){\r\n        //    return {\r\n        //        ...col,\r\n        //        onCell:(record:any)=>({\r\n        //            record,\r\n        //            inputType: col.dataIndex === \"cardsCount\" ? \"number\" : \"text\",\r\n        //            dataIndex: col.dataIndex,\r\n        //            title: col.title,\r\n        //            align: 'center' as 'center',\r\n        //        })\r\n        //\r\n        //    }\r\n        // }\r\n        if (!col.editable) {\r\n            return col;\r\n        }\r\n\r\n        return {\r\n            ...col,\r\n            onCell: (record: any) => ({\r\n                record,\r\n                inputType: col.dataIndex === \"cardsCount\" ? \"number\" : \"text\",\r\n                dataIndex: col.dataIndex,\r\n                title: col.title,\r\n                editing: isEditing(record),\r\n            })\r\n        };\r\n    });\r\n\r\n\r\n    const onErrorAlertClose = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        dispatch(setPacksErrorAC(''))\r\n    }\r\n\r\n    // Change page\r\n    // const handleChange = (currentPage: any, pageSize: any) => {\r\n    //     dispatch(getCardsThunkCreator(packId, Number(currentPage), Number(pageSize), sortColumn,sortOrder))\r\n    // }\r\n\r\n    // Edit card\r\n    const editCard = (record: Item) => {\r\n        form.setFieldsValue({...record});\r\n        setEditingKey(record.key);\r\n    }\r\n\r\n    const cancelEditing = () => {\r\n        setEditingKey('');\r\n    }\r\n\r\n    const saveCard = async (key: React.Key) => {\r\n        const oldQuestionName = cardsData.cards[+key - 1].question;\r\n        const oldAnswerName = cardsData.cards[+key - 1].answer;\r\n\r\n        const newQuestionName = dataSource[+key - 1].question;\r\n        const newAnswerName = dataSource[+key - 1].answer;\r\n        const cardId = cardsData.cards[+key - 1]._id;\r\n\r\n        if (oldQuestionName !== newQuestionName || oldAnswerName !== newAnswerName) {\r\n            dispatch(updateCardThunkCreator(packId, cardId, newQuestionName, newAnswerName, currentPage, pageSize, sortColumn, sortOrder))\r\n        }\r\n\r\n        setEditingKey(\"\");\r\n    }\r\n\r\n\r\n    //Delete Card\r\n    const deleteCard = (record: Item) => {\r\n        const id = cardsData.cards[+record.key - 1]._id\r\n        dispatch(deleteCardThunkCreator(packId, id, currentPage, pageSize, sortColumn, sortOrder))\r\n    }\r\n\r\n    // modal\r\n    const [modalStateVisible, setModalStateVisible] = useState(false);\r\n    const [modalQuestionInputValue, setModalQuestionInputValue] = useState('');\r\n    const [modalAnswerInputValue, setModalAnswerInputValue] = useState('');\r\n    const [isModalSearchInputError, setIsModalSearchInputError] = useState(false);\r\n\r\n\r\n    // On Table Change\r\n    // on Table Change\r\n    const onTableChange = (pagination: any, filters: any, sorter: any, extra: any) => {\r\n\r\n        if (sorter.column) {\r\n            setSortColumn(sorter.column.dataIndex)\r\n            setSortOrder(sorter.order)\r\n            dispatch(getCardsThunkCreator(packId, currentPage, pageSize, sorter.column.dataIndex, sorter.order))\r\n        } else {\r\n            setSortColumn('')\r\n            setSortOrder('')\r\n        }\r\n\r\n\r\n        // change page or change page size\r\n        if (currentPage !== pagination.current || pageSize !==pagination.pageSize) {\r\n            dispatch(getCardsThunkCreator(packId, Number(pagination.current), Number(pagination.pageSize), sortColumn, sortOrder))\r\n        }\r\n\r\n    }\r\n\r\n    // Search for question\r\n    const [searchInputValue, setSearchInputValue] = useState('')\r\n    const onSearchInputChange = (e: any) => {\r\n        setSearchInputValue(e.currentTarget.value)\r\n    }\r\n    const onSearch = () => {\r\n\r\n        dispatch(searchForCardQuestion(\r\n            packId,\r\n            searchInputValue,\r\n            currentPage,\r\n            pageSize\r\n        ))\r\n        // setSearchInputValue('')\r\n    }\r\n\r\n    // Add new card\r\n    const handleAdd = () => {\r\n        showModal()\r\n    };\r\n    const showModal = () => {\r\n        setModalStateVisible(true)\r\n    };\r\n\r\n\r\n    const handleOk = (e: MouseEvent<HTMLElement>) => {\r\n        if (modalQuestionInputValue.trim() === '' || modalAnswerInputValue.trim() === '') {\r\n            setIsModalSearchInputError(true)\r\n            return\r\n        }\r\n        dispatch(postCardThunkCreator(packId, modalQuestionInputValue, modalAnswerInputValue, currentPage, pageSize, sortColumn, sortOrder))\r\n        setModalStateVisible(false)\r\n        setModalQuestionInputValue('')\r\n        setModalAnswerInputValue('')\r\n    }\r\n    const handleCancel = (e: MouseEvent<HTMLElement>) => {\r\n        setModalStateVisible(false)\r\n        setModalQuestionInputValue('')\r\n        setModalAnswerInputValue('')\r\n        setIsModalSearchInputError(false)\r\n    };\r\n\r\n\r\n    const onModalQuestionInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setModalQuestionInputValue(e.currentTarget.value)\r\n    }\r\n    const onModalAnswerInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setModalAnswerInputValue(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={style.packs}>\r\n\r\n            <Modal\r\n                maskClosable={false}\r\n                destroyOnClose={true}\r\n                centered={true}\r\n                title=\"Add a row\"\r\n                visible={modalStateVisible}\r\n                onOk={handleOk}\r\n                onCancel={handleCancel}\r\n            >\r\n                <label>Type Question</label>\r\n                <Input\r\n                    value={modalQuestionInputValue}\r\n                    onChange={onModalQuestionInputChange}\r\n                    style={\r\n                        isModalSearchInputError ?\r\n                            {borderColor: 'red', marginTop: '5px'}\r\n                            :\r\n                            {marginTop: '5px'}\r\n                    }\r\n                    type=\"text\"\r\n                />\r\n                <label>Type Answer</label>\r\n                <Input\r\n                    value={modalAnswerInputValue}\r\n                    onChange={onModalAnswerInputChange}\r\n                    style={\r\n                        isModalSearchInputError ?\r\n                            {borderColor: 'red', marginTop: '5px'}\r\n                            :\r\n                            {marginTop: '5px'}\r\n                    }\r\n                    type=\"text\"\r\n                />\r\n                {\r\n                    isModalSearchInputError ?\r\n                        <div style={{textAlign: 'left', color: 'red'}}>All fields are required</div>\r\n                        : ''\r\n                }\r\n\r\n            </Modal>\r\n\r\n\r\n            <div className={style.pack_settings}>\r\n\r\n                <Button\r\n                    onClick={handleAdd}\r\n                    className={style.add_btn}\r\n                    // onClick={handleAdd}\r\n                    type=\"primary\"\r\n                    style={{\r\n                        // marginBottom: 16,\r\n                        marginLeft: 16,\r\n                    }}\r\n                >\r\n                    Add new Card\r\n                </Button>\r\n\r\n\r\n                <div className={style.search_wrapper}>\r\n                    <Search className={style.search}\r\n                            placeholder=\"Search for Card Question\"\r\n                            onSearch={onSearch}\r\n                            enterButton\r\n                            size=\"middle\"\r\n                            value={searchInputValue}\r\n                            onChange={onSearchInputChange}\r\n                        // allowClear\r\n                            loading={isLoading}\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <Form form={form} component={false}>\r\n                <Table className={style.table}\r\n                       onChange={onTableChange}\r\n                       dataSource={dataSource}\r\n                    // columns={columns}\r\n                       columns={mergedColumns}\r\n                       components={{\r\n                           body: {\r\n                               cell: EditableCell,\r\n                           },\r\n                       }}\r\n                       bordered\r\n                       rowClassName={style.editableRow}\r\n                       scroll={{x: 1500, y: 300}}\r\n                       loading={isLoading}\r\n                       pagination={{\r\n                           total: cardsData.cardsTotalCount ? cardsData.cardsTotalCount : 5,\r\n                           defaultPageSize: 5,\r\n                           showSizeChanger: true,\r\n                           pageSizeOptions: ['1', '5', '10', '50', '100'],\r\n                           // onChange: handleChange,\r\n                           // onShowSizeChange: handleSelectSize\r\n                       }}\r\n                />\r\n            </Form>\r\n            {\r\n                mainError &&\r\n                <Alert\r\n                    style={{position: 'absolute'}}\r\n                    message=\"Error\"\r\n                    description={mainError}\r\n                    type=\"error\"\r\n                    showIcon\r\n                    closable\r\n                    onClose={onErrorAlertClose}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\ninterface Item {\r\n    key: any;\r\n    id: any,\r\n    packName: string;\r\n    question: string,\r\n    answer: string,\r\n    shots: number,\r\n    created: string,\r\n    updated: string,\r\n}\r\n\r\n\r\ninterface EditableCellProps extends React.HTMLAttributes<HTMLElement> {\r\n    editing: boolean;\r\n    dataIndex: string;\r\n    title: any;\r\n    inputType: 'number' | 'text';\r\n    record: Item;\r\n    index: number;\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst EditableCell: React.FC<EditableCellProps> = ({\r\n                                                       editing,\r\n                                                       dataIndex,\r\n                                                       title,\r\n                                                       inputType,\r\n                                                       record,\r\n                                                       index,\r\n                                                       children,\r\n                                                       ...restProps\r\n                                                   }) => {\r\n\r\n    const [editableInputValue, setEditableInputValue] = useState('')\r\n    const onEditableInputChange = (e: any) => {\r\n        setEditableInputValue(e.target.value)\r\n        if (e.target.id === 'question') {\r\n            record.question = e.target.value\r\n        }\r\n        if (e.target.id === 'answer') {\r\n            record.answer = e.target.value\r\n        }\r\n    }\r\n    // const inputNode = inputType === 'number' ?\r\n    //     <InputNumber value={0} onChange={onEditableInputChange} /> : <Input value={''} onChange={onEditableInputChange}/>;\r\n\r\n    const inputNode = <Input value={editableInputValue} onChange={onEditableInputChange}/>;\r\n\r\n    return (\r\n        <td {...restProps}>\r\n            {editing ? (\r\n                <Form.Item\r\n                    name={dataIndex}\r\n                    style={{margin: 0}}\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: `Please Input ${title}!`,\r\n                        },\r\n                    ]}\r\n                >\r\n                    {inputNode}\r\n                </Form.Item>\r\n            ) : (\r\n                children\r\n            )}\r\n        </td>\r\n    );\r\n};\r\n\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n)(Cards)\r\n","import React, {useEffect} from 'react';\r\nimport './App.css';\r\nimport Header from \"./main/ui/header/header\";\r\nimport {Redirect, Route,} from \"react-router-dom\";\r\nimport {AppRootType} from \"./main/bll/state/store\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Home from \"./main/ui/routes/home/Home\";\r\nimport Profile from \"./main/ui/routes/profile/Profile\";\r\nimport Login from \"./main/ui/routes/login/Login\";\r\nimport Register from \"./main/ui/routes/register/Register\";\r\nimport Settings from \"./main/ui/routes/settings/Settings\";\r\nimport NewPassword from \"./main/ui/routes/settings/newPassword/NewPassword\";\r\nimport PasswordRestore from \"./main/ui/routes/settings/passwordRestore/PasswordRestore\";\r\nimport Features from \"./main/ui/routes/features/Features\";\r\nimport Feature0 from \"./features/f0-test/Feature0\";\r\nimport Preloader from \"./main/ui/common/preloader/Preloader\";\r\nimport {initializeAppThunkCreator} from \"./main/bll/state/appReducer\";\r\nimport Packs from \"./main/ui/routes/packs/Packs\";\r\nimport Cards from \"./main/ui/routes/cards/Cards\";\r\nimport {PacksDataType} from \"./main/bll/state/packsReducer\";\r\n\r\nconst App = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const userId = useSelector<AppRootType, string>(state => state.login._id);\r\n    useEffect(() => {\r\n        if (!userId) {\r\n            dispatch(initializeAppThunkCreator());\r\n        }\r\n\r\n    }, [])\r\n\r\n    const initialized = useSelector<AppRootType, boolean>(state => state.app.initialized);\r\n    if (!initialized) {\r\n        return (\r\n            <div className=\"App\" style={{display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\r\n                <Preloader/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <Header/>\r\n            <Route exact path='/' render={() => <Redirect to={'/home'}/>}/>\r\n            <Route path='/home' render={() => <Home/>}/>\r\n            <Route path='/profile' render={() => <Profile/>}/>\r\n            <Route path='/packs' render={() => <Packs/>}/>\r\n            <Route path='/cards/:packName/:packId' render={() => <Cards/>}/>\r\n            <Route path='/login' render={() => <Login/>}/>\r\n            <Route path='/register' render={() => <Register/>}/>\r\n            <Route path='/settings' render={() => <Settings/>}/>\r\n            <Route path='/new_password/:token' render={() => <NewPassword/>}/>\r\n            <Route path='/password_restore' render={() => <PasswordRestore/>}/>\r\n            <Route path='/features' render={() => <Features/>}/>\r\n            <Route path='/feature0' render={() => <Feature0/>}/>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport {loginReducer} from \"./loginReducer\";\r\nimport {authReducer} from \"./authReducer\";\r\nimport {registerReducer} from \"./registerReducer\";\r\nimport {passwordRestoreReducer} from \"./passwordRestoreReducer\";\r\nimport {newPasswordReducer} from \"./newPasswordReducer\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport appReducer from \"./appReducer\";\r\nimport {packsReducer} from \"./packsReducer\";\r\nimport {cardsReducer} from \"./cardsReducer\";\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    app: appReducer,\r\n    auth: authReducer,\r\n    login: loginReducer,\r\n    register: registerReducer,\r\n    passwordRestore: passwordRestoreReducer,\r\n    newPassword: newPasswordReducer,\r\n    profile: profileReducer,\r\n    packs: packsReducer,\r\n    cards: cardsReducer,\r\n})\r\n\r\n\r\nexport type AppRootType = ReturnType<typeof rootReducer>\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport {Provider} from \"react-redux\";\r\nimport {store} from \"./main/bll/state/store\";\r\nimport {HashRouter} from \"react-router-dom\";\r\n\r\n\r\n\r\nReactDOM.render(\r\n    // <React.StrictMode>\r\n    <HashRouter>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </HashRouter>,\r\n    // </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__30OeZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__AetUm\",\"profile_info\":\"Profile_profile_info__1PfUa\",\"profile_info_header\":\"Profile_profile_info_header__2xvY9\",\"avatar\":\"Profile_avatar__1LxdJ\",\"profile_info_header_content\":\"Profile_profile_info_header_content__13Kdz\",\"profile_info_change_btn\":\"Profile_profile_info_change_btn__2sM0D\",\"profile_info_save_btn\":\"Profile_profile_info_save_btn__3iysm\",\"profile_settings\":\"Profile_profile_settings__1LZv0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packs\":\"Packs_packs__UckBQ\",\"pack_settings\":\"Packs_pack_settings__1DuJO\",\"add_btn\":\"Packs_add_btn__2QFPE\",\"twice_slider\":\"Packs_twice_slider__1Tt87\",\"search_wrapper\":\"Packs_search_wrapper__15H3R\",\"search_checkbox\":\"Packs_search_checkbox__1E_ry\",\"search\":\"Packs_search__37mvi\",\"table\":\"Packs_table__3H4Oe\",\"editableRow\":\"Packs_editableRow__3uMyE\",\"ant-form-item-explain\":\"Packs_ant-form-item-explain__17NnE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"login\":\"Login_login__1nefd\",\"login_form\":\"Login_login_form__2Hk-O\",\"form\":\"Login_form__2KocX\",\"input\":\"Login_input__2ACDp\",\"email\":\"Login_email__L_6yG\",\"password\":\"Login_password__16r6P\",\"credentials\":\"Login_credentials__1UL_-\",\"error\":\"Login_error__mGFfM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainColor\":\"#f07f81\",\"register\":\"Register_register__2a6V8\",\"register_form\":\"Register_register_form__33omE\",\"form\":\"Register_form__38cOF\",\"input\":\"Register_input__akZVV\",\"email\":\"Register_email__WBOhK\",\"password\":\"Register_password__3TH2K\"};"],"sourceRoot":""}